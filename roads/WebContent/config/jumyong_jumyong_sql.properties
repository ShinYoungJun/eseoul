//\uc810\uc6a9\uc870\ud68c/////////////////////////////////////////////////////////////////////////////////////////    
//\uc810\uc6a9 \uc870\ud68c \ubc0f \uad00\ub9ac - \uc810\uc6a9 \uc870\ud68c
Querys.jumyong.ocupancyList = \
SELECT R_ID,SUBSTR(ADMIN_NO,10,19) AS ADMIN_NO2,ADMIN_NO AS ADMIN_NO,REGDATE,UP_DATE,TYPE_NAME,CASE WHEN DUE_DATE < SYSDATE AND SECTION = '2' THEN '\uB9CC\uB8CC' ELSE SECTION_NAME END AS SECTION_NAME,DUE_DATE,NAME,BJ_NM, SI, GUN  ,BONBUN,BUBUN,MUL_FROMDATE,MUL_TODATE, CHECK_NAME, TAX_SET_NAME,PURPOSE_CD,CLASS_NM , SECTION, ROAD_ADDR, AREA_SIZE, BIZSSN, BIZ_STATUS, BIZ_TYPES, OWNER_SET,ADDR, ADDR_NEW ,DORO_NM, BD_BON, BD_BU, BD_NM, POST, TOSI, TOGUN,  TO_DORO_NM, TO_BD_NM, REDUCTION_RATE,REDUCTION_REASON, SONGDALGI, JUMYONGJI_DORO_ADDR, TOPOST \
FROM( \
 \
SELECT ROWNUM AS R_ID,ADMIN_NO,REGDATE,UP_DATE,TYPE_NAME,SECTION_NAME,DUE_DATE,NAME,BJ_NM , SI, GUN ,BONBUN,BUBUN,MUL_FROMDATE,MUL_TODATE, CHECK_NAME, TAX_SET_NAME,PURPOSE_CD,CLASS_NM , SECTION, ROAD_ADDR, AREA_SIZE, BIZSSN, BIZ_STATUS, BIZ_TYPES, OWNER_SET,ADDR , ADDR_NEW ,  DORO_NM, BD_BON, BD_BU, BD_NM, POST, TOSI, TOGUN,  TO_DORO_NM, TO_BD_NM, REDUCTION_RATE, REDUCTION_REASON, SONGDALGI, JUMYONGJI_DORO_ADDR, TOPOST \
FROM ( \
 \
SELECT DISTINCT(AB.ADMIN_NO), AB.UP_DATE, A.NAME, P.MUL_FROMDATE, P.MUL_TODATE, AB.REGDATE, P.PURPOSE_CD, P.ROAD_ADDR||' '||P.ROAD_BON||DECODE(P.ROAD_BU,NULL,'','-'||P.ROAD_BU) ROAD_ADDR, P.AREA_SIZE \
       , ( SELECT DISTINCT(NAME) \
             FROM REF_COMMONCODE \
            WHERE P.TYPE = CODE \
              AND TYPE = 'use_type' ) AS TYPE_NAME \
       , ( SELECT DISTINCT(NAME) \
             FROM REF_COMMONCODE \
            WHERE P.SECTION = CODE  \
              AND TYPE = 'occupancy_type' ) AS SECTION_NAME, DUE_DATE \
       , ( SELECT DISTINCT(BJ_NM) \
             FROM REF_DONGCODE \
            WHERE P.BJ_CD = BJ_CD \
              AND P.SIDO = SI_CD \
              AND P.SIGUNGU = GU_CD \
              AND P.HJ_CD = HJ_CD(+) ) AS BJ_NM \
       , P.BONBUN \
       , P.BUBUN \
       , DECODE(( SELECT DISTINCT(1) \
             FROM CAL_SUM_INFO \
            WHERE ADMIN_NO=AB.ADMIN_NO), 1, (SELECT NAME FROM REF_COMMONCODE WHERE TYPE = 'check_type' AND CODE=1), (SELECT NAME FROM REF_COMMONCODE WHERE TYPE = 'check_type' AND CODE=0)) AS CHECK_NAME \
       , ( SELECT DISTINCT(NAME) \
             FROM REF_COMMONCODE \
            WHERE P.TAX_SET = CODE \
              AND TYPE = 'taxation_section' ) AS TAX_SET_NAME \
       , ( SELECT DISTINCT(CLASS_NM||' '||SORT_NM||' '||KIND_NM) \
             FROM REF_PURPOSECODE \
            WHERE P.PURPOSE_CD = CODE \
              AND SECTION = P.TYPE ) AS CLASS_NM \
       , P.SECTION \
       , A.BIZSSN \
       , A.BIZ_STATUS \
       , A.BIZ_TYPES \
       , ( SELECT NAME FROM REF_COMMONCODE WHERE TYPE ='use_ownerGroup' AND CODE = P.OWNER_SET) AS OWNER_SET \
       , CASE WHEN LENGTH(A.POST)=5 THEN A.POST \
  		 	 ELSE SUBSTR(A.POST,0,3)||'-'||SUBSTR(A.POST,4,3) \
         END AS POST \
       , A.ADDR1||' '||DECODE(A.SAN,'1','\uc0b0 ',' ')||A.BON||DECODE(A.BU,NULL,'','-'||A.BU)||' '||A.ADDR2 AS ADDR \
        \
       , Decode(A.DORO_NM, null, null, A.SI||' '||A.GUN||' '||A.DORO_NM|| \
         Decode(A.BD_BON, null, null, Decode(A.BD_BU, NULL, ' '||A.BD_BON, '0', ' '||A.BD_BON, ' '||A.BD_BON||'-'||A.BD_BU))|| \
         Decode(A.BD_NM, null, null, ' '||A.BD_NM)||Decode(A.BD_DET_NM, null, null, ' '||A.BD_DET_NM)) AS ADDR_NEW \
        \
       , A.SI, A.GUN, A.DORO_NM, A.BD_BON, A.BD_BU, A.BD_NM , A.TOSI, A.TOGUN,  A.TO_DORO_NM, A.TO_BD_NM \
       , P.REDUCTION_RATE , P.REDUCTION_REASON \
       , CASE WHEN LENGTH(A.TOPOST)=5 THEN A.TOPOST \
  		   ELSE SUBSTR(A.TOPOST,0,3)||'-'||SUBSTR(A.TOPOST,4,3) \
         END AS TOPOST \
       , DECODE(A.TO_DORO_NM, NULL, NULL, A.TOSI||' '||A.TOGUN||' '||A.TO_DORO_NM||  \
		 DECODE(A.TO_BD_BU, NULL, ' '||A.TO_BD_BON, '0', ' '||A.TO_BD_BON, ' '||A.TO_BD_BON||'-'||A.TO_BD_BU)||  \
		 DECODE(A.TO_BD_NM, NULL, '', ' '||A.TO_BD_NM)||DECODE(TO_BD_DET_NM, NULL, '', ' '||TO_BD_DET_NM)) as SONGDALGI \
	   , JYADDR_NEW || ' ' || DECODE(JYADDR_BU, NULL, JYADDR_BON, JYADDR_BON||'-'||JYADDR_BU) JUMYONGJI_DORO_ADDR \
  FROM APPEAL A, ADMIN_BASE AB, PLACE P \
 WHERE AB.ADMIN_NO = A.ADMIN_NO \
   AND AB.ADMIN_NO = P.ADMIN_NO \
   AND AB.UP_DATE >= ? AND AB.UP_DATE <= ?  \
   AND P.TYPE like ? \
   AND ( ((P.SECTION <> '2') AND (P.SECTION like ?)) OR (P.SECTION like '2%' and (('5' like ? and  DUE_DATE < SYSDATE) or ('2' like ? and (DUE_DATE >= SYSDATE OR DUE_DATE IS NULL)))) ) \
   AND P.TAX_SET like ? \
   AND AB.CHECK_YN like ? \
   AND P.BJ_CD like ? \
   AND P.HJ_CD like ? \
   AND P.PURPOSE_CD NOT LIKE '7%' \
   AND ( (DECODE(P.BONBUN,NULL,' ',P.BONBUN) like ? AND DECODE(P.BUBUN,NULL,' ',P.BUBUN) like ?) OR (DECODE(P.ROAD_BON,NULL,' ',P.ROAD_BON) like ? AND DECODE(P.ROAD_BU,NULL,' ',P.ROAD_BU) like ?) ) \
   AND SUBSTR(AB.ADMIN_NO,10,19) like ?  ESCAPE '@' \
   AND A.NAME like ? \
   AND P.PURPOSE_CD like ? \
   AND P.SIGUNGU LIKE ? \
 ORDER BY UP_DATE DESC \
\
   ) \
\
)WHERE R_ID > (?-1)*? AND ROWNUM<= ? \
ORDER BY UP_DATE DESC

Querys.jumyong.ocupancyList_150917 = \
SELECT R_ID,SUBSTR(ADMIN_NO,10,19) AS ADMIN_NO2,ADMIN_NO AS ADMIN_NO,REGDATE,UP_DATE,TYPE_NAME,SECTION_NAME,NAME,BJ_NM, SI, GUN  ,BONBUN,BUBUN,MUL_FROMDATE,MUL_TODATE, CHECK_NAME, TAX_SET_NAME,PURPOSE_CD,CLASS_NM , SECTION, ROAD_ADDR, AREA_SIZE, BIZSSN, BIZ_STATUS, BIZ_TYPES, OWNER_SET,ADDR, ADDR_NEW ,DORO_NM, BD_BON, BD_BU, BD_NM, POST, TOSI, TOGUN,  TO_DORO_NM, TO_BD_NM, REDUCTION_RATE,REDUCTION_REASON, SONGDALGI, JUMYONGJI_DORO_ADDR \
FROM( \
 \
SELECT ROWNUM AS R_ID,ADMIN_NO,REGDATE,UP_DATE,TYPE_NAME,SECTION_NAME,NAME,BJ_NM , SI, GUN ,BONBUN,BUBUN,MUL_FROMDATE,MUL_TODATE, CHECK_NAME, TAX_SET_NAME,PURPOSE_CD,CLASS_NM , SECTION, ROAD_ADDR, AREA_SIZE, BIZSSN, BIZ_STATUS, BIZ_TYPES, OWNER_SET,ADDR , ADDR_NEW ,  DORO_NM, BD_BON, BD_BU, BD_NM, POST, TOSI, TOGUN,  TO_DORO_NM, TO_BD_NM, REDUCTION_RATE, REDUCTION_REASON, SONGDALGI, JUMYONGJI_DORO_ADDR \
FROM ( \
 \
SELECT DISTINCT(AB.ADMIN_NO), AB.UP_DATE, A.NAME, P.MUL_FROMDATE, P.MUL_TODATE, AB.REGDATE, P.PURPOSE_CD, P.ROAD_ADDR||' '||P.ROAD_BON||DECODE(P.ROAD_BU,NULL,'','-'||P.ROAD_BU) ROAD_ADDR, P.AREA_SIZE \
       , ( SELECT DISTINCT(NAME) \
             FROM REF_COMMONCODE \
            WHERE P.TYPE = CODE \
              AND TYPE = 'use_type' ) AS TYPE_NAME \
       , ( SELECT DISTINCT(NAME) \
             FROM REF_COMMONCODE \
            WHERE P.SECTION = CODE \
              AND TYPE = 'occupancy_type' ) AS SECTION_NAME \
       , ( SELECT DISTINCT(BJ_NM) \
             FROM REF_DONGCODE \
            WHERE P.BJ_CD = BJ_CD \
              AND P.SIDO = SI_CD \
              AND P.SIGUNGU = GU_CD \
              AND P.HJ_CD = HJ_CD(+) ) AS BJ_NM \
       , P.BONBUN \
       , P.BUBUN \
       , DECODE(( SELECT DISTINCT(1) \
             FROM CAL_SUM_INFO \
            WHERE ADMIN_NO=AB.ADMIN_NO), 1, (SELECT NAME FROM REF_COMMONCODE WHERE TYPE = 'check_type' AND CODE=1), (SELECT NAME FROM REF_COMMONCODE WHERE TYPE = 'check_type' AND CODE=0)) AS CHECK_NAME \
       , ( SELECT DISTINCT(NAME) \
             FROM REF_COMMONCODE \
            WHERE P.TAX_SET = CODE \
              AND TYPE = 'taxation_section' ) AS TAX_SET_NAME \
       , ( SELECT DISTINCT(CLASS_NM||' '||SORT_NM||' '||KIND_NM) \
             FROM REF_PURPOSECODE \
            WHERE P.PURPOSE_CD = CODE \
              AND SECTION = P.TYPE ) AS CLASS_NM \
       , P.SECTION \
       , A.BIZSSN \
       , A.BIZ_STATUS \
       , A.BIZ_TYPES \
       , ( SELECT NAME FROM REF_COMMONCODE WHERE TYPE ='use_ownerGroup' AND CODE = P.OWNER_SET) AS OWNER_SET \
       , SUBSTR(A.POST,0,3)||'-'||SUBSTR(A.POST,4,3) AS POST \
       , A.ADDR1||' '||DECODE(A.SAN,'1','\uc0b0 ',' ')||A.BON||DECODE(A.BU,NULL,'','-'||A.BU)||' '||A.ADDR2 AS ADDR \
        \
       , Decode(A.DORO_NM, null, null, A.SI||' '||A.GUN||' '||A.DORO_NM|| \
         Decode(A.BD_BON, null, null, Decode(A.BD_BU, NULL, ' '||A.BD_BON, '0', ' '||A.BD_BON, ' '||A.BD_BON||'-'||A.BD_BU))|| \
         Decode(A.BD_NM, null, null, ' '||A.BD_NM)||Decode(A.BD_DET_NM, null, null, ' '||A.BD_DET_NM)) AS ADDR_NEW \
        \
       , A.SI, A.GUN, A.DORO_NM, A.BD_BON, A.BD_BU, A.BD_NM , A.TOSI, A.TOGUN,  A.TO_DORO_NM, A.TO_BD_NM \
       , P.REDUCTION_RATE , P.REDUCTION_REASON \
       , SUBSTR(A.TOPOST,0,3)||'-'||SUBSTR(A.TOPOST,4,3) TOPOST \
       , DECODE(A.TO_DORO_NM, NULL, NULL, A.TOSI||' '||A.TOGUN||' '||A.TO_DORO_NM||  \
		 		 DECODE(A.TO_BD_BU, NULL, ' '||A.TO_BD_BON, '0', ' '||A.TO_BD_BON, ' '||A.TO_BD_BON||'-'||A.TO_BD_BU)||  \
		 		 DECODE(A.TO_BD_NM, NULL, '', ' '||A.TO_BD_NM)||DECODE(TO_BD_DET_NM, NULL, '', ' '||TO_BD_DET_NM)) as SONGDALGI \
	   , JYADDR_NEW || ' ' || DECODE(JYADDR_BU, NULL, JYADDR_BON, JYADDR_BON||'-'||JYADDR_BU) JUMYONGJI_DORO_ADDR \
  FROM APPEAL A, ADMIN_BASE AB, PLACE P \
 WHERE AB.ADMIN_NO = A.ADMIN_NO \
   AND AB.ADMIN_NO = P.ADMIN_NO \
   AND AB.UP_DATE >= ? AND AB.UP_DATE <= ?  \
   AND P.TYPE like ? \
   AND P.SECTION like ? \
   AND P.TAX_SET like ? \
   AND AB.CHECK_YN like ? \
   AND P.BJ_CD like ? \
   AND P.HJ_CD like ? \
   AND P.PURPOSE_CD NOT LIKE '7%' \
   AND ( (DECODE(P.BONBUN,NULL,' ',P.BONBUN) like ? AND DECODE(P.BUBUN,NULL,' ',P.BUBUN) like ?) OR (DECODE(P.ROAD_BON,NULL,' ',P.ROAD_BON) like ? AND DECODE(P.ROAD_BU,NULL,' ',P.ROAD_BU) like ?) ) \
   AND SUBSTR(AB.ADMIN_NO,10,19) like ?  ESCAPE '@' \
   AND A.NAME like ? \
   AND P.PURPOSE_CD like ? \
   AND P.SIGUNGU = ? \
 ORDER BY UP_DATE DESC \
\
   ) \
\
)WHERE R_ID > (?-1)*? AND ROWNUM<= ? \
ORDER BY UP_DATE DESC


Querys.jumyong.ocupancyList20120103 = \
SELECT R_ID,SUBSTR(ADMIN_NO,10,19) AS ADMIN_NO2,ADMIN_NO AS ADMIN_NO,REGDATE,UP_DATE,TYPE_NAME,SECTION_NAME,NAME,BJ_NM  ,BONBUN,BUBUN,MUL_FROMDATE,MUL_TODATE, CHECK_NAME, TAX_SET_NAME,PURPOSE_CD,CLASS_NM , SECTION, ROAD_ADDR, AREA_SIZE, BIZSSN, BIZ_STATUS, BIZ_TYPES, OWNER_SET,ADDR, ADDR_NEW,  ND_SID_NM, ND_SIGUNGU_NM, ND_UMD_NM, ND_RI_NM, ND_DORO_NM, ND_BD_BON, ND_BD_BU, POST,REDUCTION_RATE,REDUCTION_REASON \
FROM( \
 \
SELECT ROWNUM AS R_ID,ADMIN_NO,REGDATE,UP_DATE,TYPE_NAME,SECTION_NAME,NAME,BJ_NM  ,BONBUN,BUBUN,MUL_FROMDATE,MUL_TODATE, CHECK_NAME, TAX_SET_NAME,PURPOSE_CD,CLASS_NM , SECTION, ROAD_ADDR, AREA_SIZE, BIZSSN, BIZ_STATUS, BIZ_TYPES, OWNER_SET,ADDR, ADDR_NEW,  ND_SID_NM, ND_SIGUNGU_NM, ND_UMD_NM, ND_RI_NM, ND_DORO_NM, ND_BD_BON, ND_BD_BU,  POST,REDUCTION_RATE,REDUCTION_REASON \
FROM ( \
 \
SELECT DISTINCT(AB.ADMIN_NO), AB.UP_DATE, A.NAME, P.MUL_FROMDATE, P.MUL_TODATE, AB.REGDATE, P.PURPOSE_CD, P.ROAD_ADDR||' '||P.ROAD_BON||DECODE(P.ROAD_BU,NULL,'','-'||P.ROAD_BU) ROAD_ADDR, P.AREA_SIZE \
       , ( SELECT DISTINCT(NAME) \
             FROM REF_COMMONCODE \
            WHERE P.TYPE = CODE \
              AND TYPE = 'use_type' ) AS TYPE_NAME \
       , ( SELECT DISTINCT(NAME) \
             FROM REF_COMMONCODE \
            WHERE P.SECTION = CODE \
              AND TYPE = 'occupancy_type' ) AS SECTION_NAME \
       , ( SELECT DISTINCT(BJ_NM) \
             FROM REF_DONGCODE \
            WHERE P.BJ_CD = BJ_CD \
              AND P.SIDO = SI_CD \
              AND P.SIGUNGU = GU_CD \
              AND P.HJ_CD = HJ_CD(+) ) AS BJ_NM \
       , P.BONBUN \
       , P.BUBUN \
       , DECODE(( SELECT DISTINCT(1) \
             FROM CAL_SUM_INFO \
            WHERE ADMIN_NO=AB.ADMIN_NO), 1, (SELECT NAME FROM REF_COMMONCODE WHERE TYPE = 'check_type' AND CODE=1), (SELECT NAME FROM REF_COMMONCODE WHERE TYPE = 'check_type' AND CODE=0)) AS CHECK_NAME \
       , ( SELECT DISTINCT(NAME) \
             FROM REF_COMMONCODE \
            WHERE P.TAX_SET = CODE \
              AND TYPE = 'taxation_section' ) AS TAX_SET_NAME \
       , ( SELECT DISTINCT(CLASS_NM||' '||SORT_NM||' '||KIND_NM) \
             FROM REF_PURPOSECODE \
            WHERE P.PURPOSE_CD = CODE \
              AND SECTION = P.TYPE ) AS CLASS_NM \
       , P.SECTION \
       , A.BIZSSN \
       , A.BIZ_STATUS \
       , A.BIZ_TYPES \
       , ( SELECT NAME FROM REF_COMMONCODE WHERE TYPE ='use_ownerGroup' AND CODE = P.OWNER_SET) AS OWNER_SET \
       , SUBSTR(A.POST,0,3)||'-'||SUBSTR(A.POST,4,3) AS POST, A.ADDR1||' '||DECODE(A.SAN,'1','\uc0b0 ',' ')||A.BON||DECODE(A.BU,NULL,'','-'||A.BU)||' '||A.ADDR2 AS ADDR \ 
       , '' ADDR_NEW \ 
       , '' ND_SID_NM, '' ND_SIGUNGU_NM, '' ND_UMD_NM, '' ND_RI_NM, '' ND_DORO_NM, '' ND_BD_BON, '' ND_BD_BU \
       , P.REDUCTION_RATE , P.REDUCTION_REASON \
  FROM APPEAL A, ADMIN_BASE AB, PLACE P \
 WHERE AB.ADMIN_NO = A.ADMIN_NO \
   AND AB.ADMIN_NO = P.ADMIN_NO \
   AND AB.UP_DATE >= ? AND AB.UP_DATE <= ?  \
   AND P.TYPE like ? \
   AND P.SECTION like ? \
   AND P.TAX_SET like ? \
   AND AB.CHECK_YN like ? \
   AND P.BJ_CD like ? \
   AND P.HJ_CD like ? \
   AND P.PURPOSE_CD NOT LIKE '7%' \
   AND ( (DECODE(P.BONBUN,NULL,' ',P.BONBUN) like ? AND DECODE(P.BUBUN,NULL,' ',P.BUBUN) like ?) OR (DECODE(P.ROAD_BON,NULL,' ',P.ROAD_BON) like ? AND DECODE(P.ROAD_BU,NULL,' ',P.ROAD_BU) like ?) ) \
   AND SUBSTR(AB.ADMIN_NO,10,19) like ?  ESCAPE '@' \
   AND A.NAME like ? \
   AND P.PURPOSE_CD like ? \
   AND P.SIGUNGU = ? \
 ORDER BY UP_DATE DESC \
\
   ) \
\
)WHERE R_ID > (?-1)*? AND ROWNUM<= ? \
ORDER BY UP_DATE DESC


Querys.jumyong.ocupancyList_20090901 = \
SELECT R_ID,SUBSTR(ADMIN_NO,10,19) AS ADMIN_NO2,ADMIN_NO AS ADMIN_NO,REGDATE,UP_DATE,TYPE_NAME,SECTION_NAME,NAME,BJ_NM  ,BONBUN,BUBUN,MUL_FROMDATE,MUL_TODATE, CHECK_NAME, TAX_SET_NAME,PURPOSE_CD,CLASS_NM \
FROM(    \
	SELECT ROWNUM AS R_ID,ADMIN_NO,REGDATE,UP_DATE,TYPE_NAME,SECTION_NAME,NAME,BJ_NM  ,BONBUN,BUBUN,MUL_FROMDATE,MUL_TODATE, CHECK_NAME, TAX_SET_NAME,PURPOSE_CD,CLASS_NM \
	FROM( \
		  SELECT DISTINCT(AB.ADMIN_NO),AB.UP_DATE,R.NAME AS TYPE_NAME,R2.NAME AS SECTION_NAME, A.NAME,R4.BJ_NM   , P.BONBUN, P.BUBUN    \
		 ,P.MUL_FROMDATE,P.MUL_TODATE,R3.NAME AS CHECK_NAME,AB.REGDATE,R5.NAME AS TAX_SET_NAME,P.PURPOSE_CD,R6.CLASS_NM \
                  FROM APPEAL A \
                    JOIN PLACE P            ON A.ADMIN_NO = P.ADMIN_NO	\
                    JOIN ADMIN_BASE AB      ON A.ADMIN_NO = AB.ADMIN_NO    \
                    JOIN REF_COMMONCODE R   ON P.TYPE = R.CODE AND R.TYPE ='use_type'    \
                    JOIN REF_COMMONCODE R2  ON P.SECTION = R2.CODE AND R2.TYPE = 'occupancy_type'    \
                    JOIN REF_COMMONCODE R3  ON AB.CHECK_YN = R3.CODE AND R3.TYPE = 'check_type'    \
                    JOIN REF_DONGCODE	  R4  ON P.BJ_CD = R4. BJ_CD   AND R4.SI_CD = SUBSTR(AB.ADMIN_NO,5,2)\
                    JOIN REF_COMMONCODE  R5  ON P.TAX_SET = R5. CODE  AND R5.TYPE = 'taxation_section' \
                    JOIN REF_PURPOSECODE R6	 ON P.PURPOSE_CD = R6.CODE AND R6.SECTION = P.TYPE	\
                  WHERE ((AB.REGDATE >= ? AND AB.REGDATE <= ?) OR (AB.UP_DATE >= ? AND AB.UP_DATE <= ?) ) \
                  AND P.TYPE like ?                       		\
                  AND P.SECTION like ?                    		\
                  AND P.TAX_SET like ?                    		\
                  AND AB.CHECK_YN like ?                  		\
                  AND P.BJ_CD like ?                      		\
                  AND P.BONBUN like ?                     		\
                  AND DECODE(P.BUBUN,NULL,' ',P.BUBUN) like ?	\
                  AND SUBSTR(AB.ADMIN_NO,10,19) like ?  ESCAPE '@' \
                  AND A.NAME like ?                       \
                  AND P.PURPOSE_CD like ?                 \
                  AND R4.GU_CD = ? \
                  AND R4.GU_CD = SUBSTR(AB.ADMIN_NO,7,3) \
                  ORDER BY REGDATE DESC	\
	)     \
)WHERE R_ID > (?-1)*? AND ROWNUM<= ? \
ORDER BY UP_DATE DESC

//\uc810\uc6a9 \uc870\ud68c\ub9ac\uc2a4\ud2b8\uce74\uc6b4\ud2b8
Querys.jumyong.ocupancyListCount = \
SELECT COUNT(DISTINCT(AB.ADMIN_NO)) \
  FROM APPEAL A, ADMIN_BASE AB, PLACE P \
 WHERE AB.ADMIN_NO = A.ADMIN_NO \
   AND AB.ADMIN_NO = P.ADMIN_NO \
   AND AB.UP_DATE >= ? AND AB.UP_DATE <= ? \
   AND P.TYPE like ? \
   AND ( ((P.SECTION <> '2') AND (P.SECTION like ?)) OR (P.SECTION like '2%' and (('5' like ? and  DUE_DATE < SYSDATE) or ('2' like ? and (DUE_DATE >= SYSDATE OR DUE_DATE IS NULL)))) ) \
   AND P.TAX_SET like ? \
   AND AB.CHECK_YN like ? \
   AND P.BJ_CD like ? \
   AND P.HJ_CD like ? \
   AND P.PURPOSE_CD NOT LIKE '7%' \
   AND ( (DECODE(P.BONBUN,NULL,' ',P.BONBUN) like ? AND DECODE(P.BUBUN,NULL,' ',P.BUBUN) like ?) OR (DECODE(P.ROAD_BON,NULL,' ',P.ROAD_BON) like ? AND DECODE(P.ROAD_BU,NULL,' ',P.ROAD_BU) like ?) ) \
   AND SUBSTR(AB.ADMIN_NO,10,19) like ?  ESCAPE '@' \
   AND A.NAME like ? \
   AND P.PURPOSE_CD like ? \
   AND P.SIGUNGU LIKE ?

Querys.jumyong.ocupancyListCount_20090901 = \
   SELECT  COUNT(DISTINCT(AB.ADMIN_NO)) \
                  FROM APPEAL A \
                    JOIN PLACE P            ON A.ADMIN_NO = P.ADMIN_NO	\
                    JOIN ADMIN_BASE AB      ON A.ADMIN_NO = AB.ADMIN_NO    \
                    JOIN REF_COMMONCODE R   ON P.TYPE = R.CODE AND R.TYPE ='use_type'    \
                    JOIN REF_COMMONCODE R2  ON P.SECTION = R2.CODE AND R2.TYPE = 'occupancy_type'    \
                    JOIN REF_COMMONCODE R3  ON AB.CHECK_YN = R3.CODE AND R3.TYPE = 'check_type'    \
                    JOIN REF_DONGCODE	  R4  ON P.BJ_CD = R4. BJ_CD   AND R4.SI_CD = SUBSTR(AB.ADMIN_NO,5,2)\
                    JOIN REF_COMMONCODE  R5  ON P.TAX_SET = R5. CODE  AND R5.TYPE = 'taxation_section' \
                    JOIN REF_PURPOSECODE R6	 ON P.PURPOSE_CD = R6.CODE AND R6.SECTION = P.TYPE	\
                  WHERE ((AB.REGDATE >= ? AND AB.REGDATE <= ?) OR (AB.UP_DATE >= ? AND AB.UP_DATE <= ?) ) \
                  AND P.TYPE like ?                       		\
                  AND P.SECTION like ?                    		\
                  AND P.TAX_SET like ?                    		\
                  AND AB.CHECK_YN like ?                  		\
                  AND P.BJ_CD like ?                      		\
                  AND P.BONBUN like ?                     		\
                  AND DECODE(P.BUBUN,NULL,' ',P.BUBUN) like ?	\
                  AND SUBSTR(AB.ADMIN_NO,10,19) like ? ESCAPE '@' \
                  AND A.NAME like ?                       \
                  AND P.PURPOSE_CD like ?                 \
                  AND R4.GU_CD = ? \
                   AND R4.GU_CD = SUBSTR(AB.ADMIN_NO,7,3) \
                  ORDER BY REGDATE DESC	\
 
 
 
 
  
			  
Querys.jumyong.ocupancyList_Excel = \
SELECT R_ID,SUBSTR(ADMIN_NO,10,19) AS ADMIN_NO2,ADMIN_NO AS ADMIN_NO,REGDATE,UP_DATE,TYPE_NAME,CASE WHEN DUE_DATE < SYSDATE AND SECTION = '2' THEN '\uB9CC\uB8CC' ELSE SECTION_NAME END AS SECTION_NAME,DUE_DATE,NAME,EMAIL,TEL,HP,BJ_NM  ,BONBUN,BUBUN,MUL_FROMDATE,MUL_TODATE, CHECK_NAME, TAX_SET_NAME,PURPOSE_CD,CLASS_NM , SECTION, ROAD_ADDR, AREA_SIZE, SSN, ADDR, GIGAN, B_PERMISSION, BIZSSN, BIZ_STATUS, BIZ_TYPES, OWNER_SET, POST, REDUCTION_RATE, REDUCTION_REASON, PERCENT_RATE, PERCENT_REASON, APPEAL_REFERENCE, PARTLY_PERIOD, PLACE_REFERENCE, ADDR_NEW,COMPANY_NAME,EXPONENT,BUSINESSADDR,BD_NM,SONGDALGI,JUMYONGJI_DORO_ADDR, TOPOST \
FROM( \
 \
SELECT ROWNUM AS R_ID,ADMIN_NO,REGDATE,UP_DATE,TYPE_NAME,EMAIL,TEL,HP,SECTION_NAME, DUE_DATE,NAME,BJ_NM  ,BONBUN,BUBUN,MUL_FROMDATE,MUL_TODATE, CHECK_NAME, TAX_SET_NAME,PURPOSE_CD,CLASS_NM , SECTION, ROAD_ADDR, AREA_SIZE, SSN, ADDR, GIGAN, B_PERMISSION, BIZSSN, BIZ_STATUS, BIZ_TYPES, OWNER_SET, POST, REDUCTION_RATE, REDUCTION_REASON, PERCENT_RATE, PERCENT_REASON, APPEAL_REFERENCE, PARTLY_PERIOD, PLACE_REFERENCE, ADDR_NEW ,COMPANY_NAME,EXPONENT,BUSINESSADDR,BD_NM,SONGDALGI,JUMYONGJI_DORO_ADDR, TOPOST \
FROM ( \
 \
SELECT DISTINCT(AB.ADMIN_NO), AB.UP_DATE, A.NAME, A.EMAIL, A.TEL,A.HP, P.MUL_FROMDATE, P.MUL_TODATE, AB.REGDATE, P.PURPOSE_CD \
	   , P.ROAD_ADDR||' ['||P.ROAD_BON||DECODE(P.ROAD_BU,NULL,'','-'||P.ROAD_BU)||']' ROAD_ADDR \
	   , P.AREA_SIZE \
       , ( SELECT DISTINCT(NAME) \
             FROM REF_COMMONCODE \
            WHERE P.TYPE = CODE \
              AND TYPE = 'use_type' ) AS TYPE_NAME \
       , ( SELECT DISTINCT(NAME) \
             FROM REF_COMMONCODE \
            WHERE P.SECTION = CODE \
              AND TYPE = 'occupancy_type' ) AS SECTION_NAME, P.DUE_DATE \
       , ( SELECT DISTINCT(BJ_NM) \
             FROM REF_DONGCODE \
            WHERE P.BJ_CD = BJ_CD \
              AND P.SIDO = SI_CD \
              AND P.SIGUNGU = GU_CD \
              AND P.HJ_CD = HJ_CD(+) ) AS BJ_NM \
       , P.BONBUN \
       , P.BUBUN \
       , DECODE(( SELECT DISTINCT(1) \
             FROM CAL_SUM_INFO \
            WHERE ADMIN_NO=AB.ADMIN_NO), 1, (SELECT NAME FROM REF_COMMONCODE WHERE TYPE = 'check_type' AND CODE=1), (SELECT NAME FROM REF_COMMONCODE WHERE TYPE = 'check_type' AND CODE=0)) AS CHECK_NAME \
       , ( SELECT DISTINCT(NAME) \
             FROM REF_COMMONCODE \
            WHERE P.TAX_SET = CODE \
              AND TYPE = 'taxation_section' ) AS TAX_SET_NAME \
       , ( SELECT DISTINCT(CLASS_NM||' '||SORT_NM||' '||KIND_NM) \
             FROM REF_PURPOSECODE \
            WHERE P.PURPOSE_CD = CODE \
              AND SECTION = P.TYPE ) AS CLASS_NM \
       , P.SECTION \
       , DECODE(A.SSN, A.SSN, SUBSTR(A.SSN, 0, 6) || '-' || SUBSTR(A.SSN, 7, 12), NULL, A.BIZSSN) SSN \
       , A.ADDR1||' '||DECODE(A.SAN,'1','\uc0b0 ',' ')||A.BON||DECODE(A.BU,NULL,'','-'||A.BU)||' '||A.ADDR2 ADDR \
       , P.MUL_FROMDATE || '~' || P.MUL_TODATE GIGAN \
       , DECODE(A.B_PERMISSION, NULL, '', ' [' || A.B_PERMISSION || ']') B_PERMISSION \
       , A.BIZSSN \
       , A.BIZ_STATUS \
       , A.BIZ_TYPES \
         \
       , Decode(A.DORO_NM, null, null, A.SI||' '||A.GUN||' '||A.DORO_NM|| \
         Decode(A.BD_BON, null, null, Decode(A.BD_BU, NULL, ' '||A.BD_BU, '0', ' '||A.BD_BON, ' '||A.BD_BON||'-'||A.BD_BU))|| \
         Decode(A.BD_NM, null, null, ' '||A.BD_NM)||Decode(A.BD_DET_NM, null, null, ' '||A.BD_DET_NM)) AS ADDR_NEW \
        \
       , A.REFERENCE AS APPEAL_REFERENCE \
       , P.PARTLY_PERIOD \
       , P.REFERENCE AS PLACE_REFERENCE \
       , ( SELECT NAME FROM REF_COMMONCODE WHERE TYPE ='use_ownerGroup' AND CODE = P.OWNER_SET) AS OWNER_SET \
       , CASE WHEN LENGTH(A.POST)=5 THEN A.POST \
  		   ELSE SUBSTR(A.POST,0,3)||'-'||SUBSTR(A.POST,4,3) \
         END AS POST \
       , P.REDUCTION_RATE, P.REDUCTION_REASON, P.PERCENT_RATE, P.PERCENT_REASON \
       , A.COMPANY_NAME, A.EXPONENT, A.BUSINESSADDR, P.BD_NM \
       , CASE WHEN LENGTH(A.TOPOST)=5 THEN A.TOPOST \
  		   ELSE SUBSTR(A.TOPOST,0,3)||'-'||SUBSTR(A.TOPOST,4,3) \
         END AS TOPOST \
       , DECODE(A.TO_DORO_NM, NULL, NULL, A.TOSI||' '||A.TOGUN||' '||A.TO_DORO_NM||  \
		 		 DECODE(A.TO_BD_BU, NULL, ' '||A.TO_BD_BON, '0', ' '||A.TO_BD_BON, ' '||A.TO_BD_BON||'-'||A.TO_BD_BU)||  \
		 		 DECODE(A.TO_BD_NM, NULL, '', ' '||A.TO_BD_NM)||DECODE(TO_BD_DET_NM, NULL, '', ' '||TO_BD_DET_NM)) as SONGDALGI \
	   ,JYADDR_NEW || ' ' || DECODE(JYADDR_BU, NULL, JYADDR_BON, JYADDR_BON||'-'||JYADDR_BU) JUMYONGJI_DORO_ADDR \
  FROM APPEAL A, ADMIN_BASE AB, PLACE P \
 WHERE AB.ADMIN_NO = A.ADMIN_NO \
   AND AB.ADMIN_NO = P.ADMIN_NO \
   AND AB.UP_DATE >= ? AND AB.UP_DATE <= ?  \
   AND P.TYPE like ? \
   AND ( ((P.SECTION <> '2') AND (P.SECTION like ?)) OR (P.SECTION like '2%' and (('5' like ? and  DUE_DATE < SYSDATE) or ('2' like ? and (DUE_DATE >= SYSDATE OR DUE_DATE IS NULL)))) ) \
   AND P.TAX_SET like ? \
   AND AB.CHECK_YN like ? \
   AND P.BJ_CD like ? \
   AND P.HJ_CD like ? \
     AND P.PURPOSE_CD NOT LIKE '7%' \
   AND ((P.BONBUN like ? AND DECODE(P.BUBUN,NULL,' ',P.BUBUN) like ? ) OR (P.ROAD_BON like ? AND DECODE(P.ROAD_BU,NULL,' ',P.ROAD_BU) like ?)) \
   AND SUBSTR(AB.ADMIN_NO,10,19) like ?  ESCAPE '@' \
   AND A.NAME like ? \
   AND P.PURPOSE_CD like ? \
   AND P.SIGUNGU LIKE ? \
 ORDER BY UP_DATE DESC \
\
   ) \
\
) ORDER BY UP_DATE DESC \
  
Querys.jumyong.ocupancyList_Excel_150917 = \
SELECT R_ID,SUBSTR(ADMIN_NO,10,19) AS ADMIN_NO2,ADMIN_NO AS ADMIN_NO,REGDATE,UP_DATE,TYPE_NAME,SECTION_NAME,NAME,EMAIL,TEL,HP,BJ_NM  ,BONBUN,BUBUN,MUL_FROMDATE,MUL_TODATE, CHECK_NAME, TAX_SET_NAME,PURPOSE_CD,CLASS_NM , SECTION, ROAD_ADDR, AREA_SIZE, SSN, ADDR, GIGAN, B_PERMISSION, BIZSSN, BIZ_STATUS, BIZ_TYPES, OWNER_SET, POST, REDUCTION_RATE, REDUCTION_REASON, PERCENT_RATE, PERCENT_REASON, APPEAL_REFERENCE, PARTLY_PERIOD, PLACE_REFERENCE, ADDR_NEW,COMPANY_NAME,EXPONENT,BUSINESSADDR,BD_NM,SONGDALGI,JUMYONGJI_DORO_ADDR \
FROM( \
 \
SELECT ROWNUM AS R_ID,ADMIN_NO,REGDATE,UP_DATE,TYPE_NAME,EMAIL,TEL,HP,SECTION_NAME,NAME,BJ_NM  ,BONBUN,BUBUN,MUL_FROMDATE,MUL_TODATE, CHECK_NAME, TAX_SET_NAME,PURPOSE_CD,CLASS_NM , SECTION, ROAD_ADDR, AREA_SIZE, SSN, ADDR, GIGAN, B_PERMISSION, BIZSSN, BIZ_STATUS, BIZ_TYPES, OWNER_SET, POST, REDUCTION_RATE, REDUCTION_REASON, PERCENT_RATE, PERCENT_REASON, APPEAL_REFERENCE, PARTLY_PERIOD, PLACE_REFERENCE, ADDR_NEW ,COMPANY_NAME,EXPONENT,BUSINESSADDR,BD_NM,SONGDALGI,JUMYONGJI_DORO_ADDR \
FROM ( \
 \
SELECT DISTINCT(AB.ADMIN_NO), AB.UP_DATE, A.NAME, A.EMAIL, A.TEL,A.HP, P.MUL_FROMDATE, P.MUL_TODATE, AB.REGDATE, P.PURPOSE_CD \
	   , P.ROAD_ADDR||' ['||P.ROAD_BON||DECODE(P.ROAD_BU,NULL,'','-'||P.ROAD_BU)||']' ROAD_ADDR \
	   , P.AREA_SIZE \
       , ( SELECT DISTINCT(NAME) \
             FROM REF_COMMONCODE \
            WHERE P.TYPE = CODE \
              AND TYPE = 'use_type' ) AS TYPE_NAME \
       , ( SELECT DISTINCT(NAME) \
             FROM REF_COMMONCODE \
            WHERE P.SECTION = CODE \
              AND TYPE = 'occupancy_type' ) AS SECTION_NAME \
       , ( SELECT DISTINCT(BJ_NM) \
             FROM REF_DONGCODE \
            WHERE P.BJ_CD = BJ_CD \
              AND P.SIDO = SI_CD \
              AND P.SIGUNGU = GU_CD \
              AND P.HJ_CD = HJ_CD(+) ) AS BJ_NM \
       , P.BONBUN \
       , P.BUBUN \
       , DECODE(( SELECT DISTINCT(1) \
             FROM CAL_SUM_INFO \
            WHERE ADMIN_NO=AB.ADMIN_NO), 1, (SELECT NAME FROM REF_COMMONCODE WHERE TYPE = 'check_type' AND CODE=1), (SELECT NAME FROM REF_COMMONCODE WHERE TYPE = 'check_type' AND CODE=0)) AS CHECK_NAME \
       , ( SELECT DISTINCT(NAME) \
             FROM REF_COMMONCODE \
            WHERE P.TAX_SET = CODE \
              AND TYPE = 'taxation_section' ) AS TAX_SET_NAME \
       , ( SELECT DISTINCT(CLASS_NM||' '||SORT_NM||' '||KIND_NM) \
             FROM REF_PURPOSECODE \
            WHERE P.PURPOSE_CD = CODE \
              AND SECTION = P.TYPE ) AS CLASS_NM \
       , P.SECTION \
       , DECODE(A.SSN, A.SSN, SUBSTR(A.SSN, 0, 6) || '-' || SUBSTR(A.SSN, 7, 12), NULL, A.BIZSSN) SSN \
       , A.ADDR1||' '||DECODE(A.SAN,'1','\uc0b0 ',' ')||A.BON||DECODE(A.BU,NULL,'','-'||A.BU)||' '||A.ADDR2 ADDR \
       , P.MUL_FROMDATE || '~' || P.MUL_TODATE GIGAN \
       , DECODE(A.B_PERMISSION, NULL, '', ' [' || A.B_PERMISSION || ']') B_PERMISSION \
       , A.BIZSSN \
       , A.BIZ_STATUS \
       , A.BIZ_TYPES \
         \
       , Decode(A.DORO_NM, null, null, A.SI||' '||A.GUN||' '||A.DORO_NM|| \
         Decode(A.BD_BON, null, null, Decode(A.BD_BU, NULL, ' '||A.BD_BU, '0', ' '||A.BD_BON, ' '||A.BD_BON||'-'||A.BD_BU))|| \
         Decode(A.BD_NM, null, null, ' '||A.BD_NM)||Decode(A.BD_DET_NM, null, null, ' '||A.BD_DET_NM)) AS ADDR_NEW \
        \
       , A.REFERENCE AS APPEAL_REFERENCE \
       , P.PARTLY_PERIOD \
       , P.REFERENCE AS PLACE_REFERENCE \
       , ( SELECT NAME FROM REF_COMMONCODE WHERE TYPE ='use_ownerGroup' AND CODE = P.OWNER_SET) AS OWNER_SET \
       , SUBSTR(A.POST,0,3)||'-'||SUBSTR(A.POST,4,3) AS POST \
       , P.REDUCTION_RATE, P.REDUCTION_REASON, P.PERCENT_RATE, P.PERCENT_REASON \
       , A.COMPANY_NAME, A.EXPONENT, A.BUSINESSADDR, P.BD_NM \
       , SUBSTR(A.TOPOST,0,3)||'-'||SUBSTR(A.TOPOST,4,3) TOPOST \
       , DECODE(A.TO_DORO_NM, NULL, NULL, A.TOSI||' '||A.TOGUN||' '||A.TO_DORO_NM||  \
		 		 DECODE(A.TO_BD_BU, NULL, ' '||A.TO_BD_BON, '0', ' '||A.TO_BD_BON, ' '||A.TO_BD_BON||'-'||A.TO_BD_BU)||  \
		 		 DECODE(A.TO_BD_NM, NULL, '', ' '||A.TO_BD_NM)||DECODE(TO_BD_DET_NM, NULL, '', ' '||TO_BD_DET_NM)) as SONGDALGI \
	   ,JYADDR_NEW || ' ' || DECODE(JYADDR_BU, NULL, JYADDR_BON, JYADDR_BON||'-'||JYADDR_BU) JUMYONGJI_DORO_ADDR \
  FROM APPEAL A, ADMIN_BASE AB, PLACE P \
 WHERE AB.ADMIN_NO = A.ADMIN_NO \
   AND AB.ADMIN_NO = P.ADMIN_NO \
   AND AB.UP_DATE >= ? AND AB.UP_DATE <= ?  \
   AND P.TYPE like ? \
   AND P.SECTION like ? \
   AND P.TAX_SET like ? \
   AND AB.CHECK_YN like ? \
   AND P.BJ_CD like ? \
   AND P.HJ_CD like ? \
     AND P.PURPOSE_CD NOT LIKE '7%' \
   AND ((P.BONBUN like ? AND DECODE(P.BUBUN,NULL,' ',P.BUBUN) like ? ) OR (P.ROAD_BON like ? AND DECODE(P.ROAD_BU,NULL,' ',P.ROAD_BU) like ?)) \
   AND SUBSTR(AB.ADMIN_NO,10,19) like ?  ESCAPE '@' \
   AND A.NAME like ? \
   AND P.PURPOSE_CD like ? \
   AND P.SIGUNGU = ? \
 ORDER BY UP_DATE DESC \
\
   ) \
\
) ORDER BY UP_DATE DESC \
	
//\uc810\uc6a9\uc870\ud68c/////////////////////////////////////////////////////////////////////////////////////////    
//\uc810\uc6a9 \uc870\ud68c \ubc0f \uad00\ub9ac - \uc810\uc6a9 \uc870\ud68c Excel
Querys.jumyong.ocupancyList_Excel_20120710 = \
SELECT R_ID,SUBSTR(ADMIN_NO,10,19) AS ADMIN_NO2,ADMIN_NO AS ADMIN_NO,REGDATE,UP_DATE,TYPE_NAME,SECTION_NAME,NAME,EMAIL,TEL,HP,BJ_NM  ,BONBUN,BUBUN,MUL_FROMDATE,MUL_TODATE, CHECK_NAME, TAX_SET_NAME,PURPOSE_CD,CLASS_NM , SECTION, ROAD_ADDR, AREA_SIZE, SSN, ADDR, GIGAN, B_PERMISSION, BIZSSN, BIZ_STATUS, BIZ_TYPES, OWNER_SET, POST, REDUCTION_RATE, REDUCTION_REASON, PERCENT_RATE, PERCENT_REASON, APPEAL_REFERENCE, PARTLY_PERIOD, PLACE_REFERENCE, ADDR_NEW \
FROM( \
 \
SELECT ROWNUM AS R_ID,ADMIN_NO,REGDATE,UP_DATE,TYPE_NAME,EMAIL,TEL,HP,SECTION_NAME,NAME,BJ_NM  ,BONBUN,BUBUN,MUL_FROMDATE,MUL_TODATE, CHECK_NAME, TAX_SET_NAME,PURPOSE_CD,CLASS_NM , SECTION, ROAD_ADDR, AREA_SIZE, SSN, ADDR, GIGAN, B_PERMISSION, BIZSSN, BIZ_STATUS, BIZ_TYPES, OWNER_SET, POST, REDUCTION_RATE, REDUCTION_REASON, PERCENT_RATE, PERCENT_REASON, APPEAL_REFERENCE, PARTLY_PERIOD, PLACE_REFERENCE, ADDR_NEW \
FROM ( \
 \
SELECT DISTINCT(AB.ADMIN_NO), AB.UP_DATE, A.NAME, A.EMAIL, A.TEL,A.HP, P.MUL_FROMDATE, P.MUL_TODATE, AB.REGDATE, P.PURPOSE_CD \
	   , P.ROAD_ADDR||' ['||P.ROAD_BON||DECODE(P.ROAD_BU,NULL,'','-'||P.ROAD_BU)||']' ROAD_ADDR \
	   , P.AREA_SIZE \
       , ( SELECT DISTINCT(NAME) \
             FROM REF_COMMONCODE \
            WHERE P.TYPE = CODE \
              AND TYPE = 'use_type' ) AS TYPE_NAME \
       , ( SELECT DISTINCT(NAME) \
             FROM REF_COMMONCODE \
            WHERE P.SECTION = CODE \
              AND TYPE = 'occupancy_type' ) AS SECTION_NAME \
       , ( SELECT DISTINCT(BJ_NM) \
             FROM REF_DONGCODE \
            WHERE P.BJ_CD = BJ_CD \
              AND P.SIDO = SI_CD \
              AND P.SIGUNGU = GU_CD \
              AND P.HJ_CD = HJ_CD(+) ) AS BJ_NM \
       , P.BONBUN \
       , P.BUBUN \
       , DECODE(( SELECT DISTINCT(1) \
             FROM CAL_SUM_INFO \
            WHERE ADMIN_NO=AB.ADMIN_NO), 1, (SELECT NAME FROM REF_COMMONCODE WHERE TYPE = 'check_type' AND CODE=1), (SELECT NAME FROM REF_COMMONCODE WHERE TYPE = 'check_type' AND CODE=0)) AS CHECK_NAME \
       , ( SELECT DISTINCT(NAME) \
             FROM REF_COMMONCODE \
            WHERE P.TAX_SET = CODE \
              AND TYPE = 'taxation_section' ) AS TAX_SET_NAME \
       , ( SELECT DISTINCT(CLASS_NM||' '||SORT_NM||' '||KIND_NM) \
             FROM REF_PURPOSECODE \
            WHERE P.PURPOSE_CD = CODE \
              AND SECTION = P.TYPE ) AS CLASS_NM \
       , P.SECTION \
       , DECODE(A.SSN, A.SSN, SUBSTR(A.SSN, 0, 6) || '-' || SUBSTR(A.SSN, 7, 12), NULL, A.BIZSSN) SSN \
       , A.ADDR1||' '||DECODE(A.SAN,'1','\uc0b0 ',' ')||A.BON||DECODE(A.BU,NULL,'','-'||A.BU)||' '||A.ADDR2 ADDR \
       , P.MUL_FROMDATE || '~' || P.MUL_TODATE GIGAN \
       , DECODE(A.B_PERMISSION, NULL, '', ' [' || A.B_PERMISSION || ']') B_PERMISSION \
       , A.BIZSSN \
       , A.BIZ_STATUS \
       , A.BIZ_TYPES \
       , A.SI||' '||A.GUN||' '||A.DORO_NM||' '||A.BD_BON||' '||A.BD_BU||' '||A.BD_NM||' '||A.BD_DET_NM AS ADDR_NEW \
       , A.REFERENCE AS APPEAL_REFERENCE \
       , P.PARTLY_PERIOD \
       , P.REFERENCE AS PLACE_REFERENCE \
       , ( SELECT NAME FROM REF_COMMONCODE WHERE TYPE ='use_ownerGroup' AND CODE = P.OWNER_SET) AS OWNER_SET \
       , SUBSTR(A.POST,0,3)||'-'||SUBSTR(A.POST,4,3) AS POST \
       , P.REDUCTION_RATE, P.REDUCTION_REASON, P.PERCENT_RATE, P.PERCENT_REASON \
  FROM APPEAL A, ADMIN_BASE AB, PLACE P \
 WHERE AB.ADMIN_NO = A.ADMIN_NO \
   AND AB.ADMIN_NO = P.ADMIN_NO \
   AND AB.UP_DATE >= ? AND AB.UP_DATE <= ?  \
   AND P.TYPE like ? \
   AND P.SECTION like ? \
   AND P.TAX_SET like ? \
   AND AB.CHECK_YN like ? \
   AND P.BJ_CD like ? \
   AND P.HJ_CD like ? \
     AND P.PURPOSE_CD NOT LIKE '7%' \
   AND ((P.BONBUN like ? AND DECODE(P.BUBUN,NULL,' ',P.BUBUN) like ? ) OR (P.ROAD_BON like ? AND DECODE(P.ROAD_BU,NULL,' ',P.ROAD_BU) like ?)) \
   AND SUBSTR(AB.ADMIN_NO,10,19) like ?  ESCAPE '@' \
   AND A.NAME like ? \
   AND P.PURPOSE_CD like ? \
   AND P.SIGUNGU = ? \
 ORDER BY UP_DATE DESC \
\
   ) \
\
) ORDER BY UP_DATE DESC \

//\uc0b0\ucd9c\ubb3c  \ub9ac\uc2a4\ud2b8
Querys.jumyong.ocucupancy.productList_old = \
SELECT R_ID,UP_DATE, AREA_AFTER, RATE, LICENSE_TAX, SUM_YEAR,YEAR,PERIOD,SEQ,PRICE,FROMDATE,TODATE,SUM_LASTYEAR,SUM_ADJUST, CAL_SUM_SEQ ,UP_DATE FROM \
(  \
	SELECT ROWNUM AS R_ID,UP_DATE, AREA_AFTER, RATE, LICENSE_TAX, SUM_YEAR,YEAR,PERIOD,SEQ,PRICE,FROMDATE,TODATE,SUM_LASTYEAR,SUM_ADJUST, CAL_SUM_SEQ, UP_DATE  FROM \
	(  \
		SELECT AB.UP_DATE, C.AREA_AFTER, C.RATE, C.LICENSE_TAX, C.SUM_YEAR,YEAR,PERIOD,C.SEQ,C.PRICE,C.FROMDATE,C.TODATE,C.SUM_LASTYEAR,C.SUM_ADJUST , C.CAL_SUM_SEQ,C.UP_DATE \
		 FROM ADMIN_BASE AB   \
		JOIN CALCULATION_INFO C ON AB.ADMIN_NO = C.ADMIN_NO  \
		WHERE AB.ADMIN_NO = ? AND USE_SECTION = '2' 		ORDER BY YEAR DESC \
	) \
) WHERE R_ID > (?-1)*? AND ROWNUM<=? \
ORDER BY YEAR DESC



//\uc0b0\ucd9c\ubb3c  \ub9ac\uc2a4\ud2b8
Querys.jumyong.ocucupancy.productList = \
SELECT R_ID,AREA_AFTER, RATE, LICENSE_TAX, SUM_YEAR, YEAR, PERIOD, SEQ, PRICE, FROMDATE, TODATE, SUM_LASTYEAR, SUM_ADJUST , CAL_SUM_SEQ, SUM, UP_DATE,FORM_ADJUST \
FROM ( \
SELECT ROWNUM AS R_ID,AREA_AFTER, RATE, LICENSE_TAX, SUM_YEAR, YEAR, PERIOD, SEQ, PRICE, FROMDATE, TODATE, SUM_LASTYEAR, SUM_ADJUST , CAL_SUM_SEQ, SUM, UP_DATE, FORM_ADJUST \
FROM \
( \
SELECT C.AREA_AFTER, C.RATE, C.LICENSE_TAX, C.SUM_YEAR,C.YEAR,C.PERIOD,C.SEQ,C.PRICE,C.FROMDATE,C.TODATE,C.SUM_LASTYEAR,C.SUM_ADJUST , C.CAL_SUM_SEQ, CSI.SUM, C.UP_DATE, C.FORM_ADJUST \
FROM CALCULATION_INFO C \
JOIN CAL_SUM_INFO CSI ON C.CAL_SUM_SEQ = CSI.SEQ AND C.ADMIN_NO=CSI.ADMIN_NO \
WHERE C.ADMIN_NO = ?  		ORDER BY C.YEAR DESC \
) ) WHERE R_ID > (?-1)*? AND ROWNUM<=? ORDER BY YEAR DESC, SEQ DESC









//\uc0b0\ucd9c\ubb3c \uac1c\uc218
Querys.jumyong.productCount = \
SELECT count(*) FROM CALCULATION_INFO \
WHERE ADMIN_NO = ?

//\uc0b0\ucd9c\ubb3c \uac1c\ubcc4 \uc815\ubcf4
Querys.jumyong.calSelectbyYear_OLD = \
SELECT ADMIN_NO,YEAR,PRICE,AREA_AFTER,RATE,FROMDATE,TODATE,SUM_LASTYEAR,SUM_YEAR,FORM,FORM_ADJUST,SUM_ADJUST,LICENSE_TAX,SEQ,PERIOD,ADJUSTMENT,REDUCTION_RATE,REDUCTION_REASON,SURCHARGE_RATE,FIRST_SEQ,PREV_SEQ, CAL_SUM_SEQ \
 FROM CALCULATION_INFO WHERE SEQ = ? AND ROWNUM = 1 
 
//\uc0b0\ucd9c\ubb3c \uac1c\ubcc4 \uc815\ubcf4
Querys.jumyong.calSelectbyYear = \
 SELECT C.ADMIN_NO,C.YEAR,C.PRICE,C.AREA_AFTER,C.RATE,C.FROMDATE,C.TODATE,C.SUM_LASTYEAR,C.SUM_YEAR \
, C.FORM,C.FORM_ADJUST,C.SUM_ADJUST,C.LICENSE_TAX,C.SEQ,C.PERIOD,C.ADJUSTMENT,C.SURCHARGE_RATE,C.FIRST_SEQ,C.PREV_SEQ, C.CAL_SUM_SEQ \
, CSI.SUM,CSI.REDUCTION_RATE,CSI.REDUCTION_REASON, CSI.TAX_SEQ \
, RP.CHECK_YN  , RP.MOMEY, RP.YOYUL \
, (SELECT TAX_YN FROM TAXATION_INFO T WHERE CSI.ADMIN_NO = T.ADMIN_NO AND CSI.SEQ = T.SEQ(+) ) TAX_YN \
FROM CALCULATION_INFO C , CAL_SUM_INFO CSI , PLACE P, REF_PURPOSECODE RP \
WHERE C.CAL_SUM_SEQ = CSI.SEQ \
AND C.ADMIN_NO = CSI.ADMIN_NO \
AND C.SEQ = ? \
AND P.ADMIN_NO = C.ADMIN_NO \
AND P.PURPOSE_CD = RP.CODE \
AND P.TYPE = RP.SECTION \
AND ROWNUM = 1
 
 
//\uc0b0\ucd9c\ubb3c \uc785\ub825
Querys.jumyong.calInsert = \
INSERT INTO CALCULATION_INFO (ADMIN_NO,SEQ,YEAR,PRICE, FROMDATE,TODATE,AREA_BEFORE,AREA_AFTER,RATE,SUM_LASTYEAR,SUM_YEAR,SUM_ADJUST,FORM_ADJUST,FORM,LICENSE_TAX,PERIOD,VAT,ADJUSTMENT,REDUCTION_RATE,REDUCTION_REASON,PERCENT_RATE,PERCENT_REASON,SURCHARGE_RATE,USE_SECTION,FIRST_SEQ,CAL_SUM_SEQ,PREV_SEQ,UP_DATE) \
VALUES(?,CALCULATION_SEQ.NEXTVAL,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)

//\uc0b0\ucd9c\ubb3c \uc785\ub825(\uc218\uc2dc\ubd84)
Querys.jumyong.calInsert2 = \
INSERT INTO CALCULATION_INFO (ADMIN_NO,SEQ,YEAR,PRICE, FROMDATE,TODATE,AREA_BEFORE,AREA_AFTER,RATE,SUM_LASTYEAR,SUM_YEAR,SUM_ADJUST,FORM_ADJUST,FORM,LICENSE_TAX,PERIOD,VAT,ADJUSTMENT,REDUCTION_RATE,REDUCTION_REASON,PERCENT_RATE,PERCENT_REASON,SURCHARGE_RATE,USE_SECTION,FIRST_SEQ,CAL_SUM_SEQ,PREV_SEQ, UP_DATE) \
VALUES(?,CALCULATION_SEQ.NEXTVAL,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,CALCULATION_SEQ.currval,?,?,?)

//\uc0b0\ucd9c\ubb3c \ucd5c\ub300seq \uad6c\ud558\uae30
Querys.jumyong.ocucupancy.getMaxSeq = \
SELECT MAX(SEQ)+1 FROM CALCULATION_INFO WHERE ADMIN_NO = ? AND YEAR = ? \
GROUP BY ADMIN_NO,YEAR


//\uc0b0\ucd9c\ubb3c \uc791\ub144\ub3c4 \uc810\uc6a9\ub8cc \uad6c\ud558\uae30
Querys.jumyong.ocucupancy.getSum_LastYear = \
SELECT SUM_ADJUST FROM CALCULATION_INFO WHERE ADMIN_NO = ? AND YEAR = ? AND ROWNUM = 1 ORDER BY SEQ DESC


//\uc0b0\ucd9c\uc694\uc728 \uad6c\ud558\uae30
Querys.jumyong.getProductRate = \
SELECT CNT FROM REF_JOJUNGCODE WHERE ADD_SUM = ?

//\uc0b0\ucd9c\ubb3c \ubd80\uacfc \uc785\ub825
Querys.jumyong.cal_sum_infoInsert = \
INSERT INTO CAL_SUM_INFO \
(ADMIN_NO, SEQ, YEAR, AREA, SUM_ADJUST, \
VAT, REDUCTION_RATE, REDUCTION_REASON, PERCENT_RATE, PERCENT_REASON, \
SUM, USE_SECTION, PRICE,RATE, FORM_ADJUST, \
FROMDATE, TODATE, TAX_SEQ) \
VALUES(?,?,?,?,?, ?,?,?,?,?, ?,?,?,?,? ,?,?,?) \


//CAL_SUM_INFO \uc5c5\ub370\uc774\ud2b8
Querys.jumyong.cal_sum_infoUpdate = \
UPDATE CAL_SUM_INFO \
SET YEAR = ? , \
AREA = ? , \
SUM_ADJUST = ? , \
VAT = ? , \
SUM = ? , \
REDUCTION_RATE = ? , \
REDUCTION_REASON = ? , \
PERCENT_RATE = ? , \
PERCENT_REASON = ? , \
USE_SECTION = ? , \
PRICE = ? , \
RATE = ? , \
FORM_ADJUST = ? , \
FROMDATE = ? , \
TODATE = ? \
WHERE SEQ = ? \
AND ADMIN_NO = ?

//CAL_SUM_INFO \uc5c5\ub370\uc774\ud2b8
Querys.jumyong.cal_sum_infoUpdate2 = \
UPDATE CAL_SUM_INFO SET \
AREA = ? , \
SUM_ADJUST = ? , \
VAT = TRUNC(? *(100-DECODE(REDUCTION_RATE,NULL,0,REDUCTION_RATE))/10000,0)*10 , \
SUM = TRUNC(? *(100-DECODE(REDUCTION_RATE,NULL,0,REDUCTION_RATE))/10000,0)*100 , \
USE_SECTION = ? , \
PRICE = ? , \
RATE = ? , \
FORM_ADJUST = ? , \
FROMDATE = (SELECT MIN(FROMDATE) FROM CALCULATION_INFO  WHERE CAL_SUM_SEQ=? AND admin_no=?) , \
TODATE = (SELECT MAX(TODATE) FROM CALCULATION_INFO  WHERE CAL_SUM_SEQ=? AND admin_no=?) , \
YEAR = TO_CHAR(SYSDATE, 'YYYY') \
WHERE SEQ = ? \
AND ADMIN_NO = ?

//\uba74\ud5c8\uc138 \uad6c\ud558\uae30
Querys.jumyong.getLicenseTax = \
SELECT MIN(TAX) FROM \
(	\
	SELECT TYPE, TAX FROM REF_LICENSETAX WHERE AREA_MORE <= ? AND AREA_LESS > ? \
	UNION \
	SELECT '-1', 67500 FROM DUAL \
	ORDER BY TYPE DESC \
)



//\uc694\uc728 \uad6c\ud558\uae30
Querys.jumyong.ocucupancy.getYoyul = \
SELECT DECODE(CHECK_YN,1,MOMEY,YOYUL) AS YOYUL FROM PLACE P \
JOIN REF_PURPOSECODE RP ON RP.CODE = P.PURPOSE_CD  AND P.TYPE = RP.SECTION \
WHERE ADMIN_NO = ? AND ROWNUM =1

Querys.jumyong.ocucupancy.getAreaSize = \
SELECT AREA_SIZE FROM PLACE P \
WHERE ADMIN_NO = ? AND ROWNUM =1 \

//\uc810\uc6a9\uad6c\ubd84 \uad6c\ud558\uae30
Querys.jumyong.ocucupancy.getSection = \
SELECT SECTION,MUL_FROMDATE,MUL_TODATE FROM PLACE WHERE ADMIN_NO = ?


//\uc0b0\ucd9c\ubb3c \uc218\uc815
Querys.jumyong.productUpdate = \
UPDATE CALCULATION_INFO \
    SET \
    YEAR = ?, \
    PRICE = ?, \
    FROMDATE = ?, \
    TODATE = ?, \
    AREA_AFTER = ?, \
    RATE = ?, \
    SUM_LASTYEAR = ?, \
    SUM_YEAR = ?, \
    SUM_ADJUST = ?, \
    VAT = ?, \
    FORM_ADJUST = ?, \
    FORM = ? , \
    PERIOD= ?,  \
    ADJUSTMENT = ?, \
    LICENSE_TAX=?, \
    REDUCTION_RATE=?, \
    REDUCTION_REASON=?, \
    PERCENT_RATE=?, \
    PERCENT_REASON=?, \
    SURCHARGE_RATE =? ,\
    UP_DATE = ? \
WHERE SEQ = ? \
AND ADMIN_NO = ?

//\uac80\ud1a0\uc5ec\ubd80 \uc124\uc815
Querys.jumyong.ocucupancy.setCheck_Yn = \
UPDATE ADMIN_BASE SET CHECK_YN = 1 WHERE ADMIN_NO = ?

//\ubd80\uacfc\uc5ec\ubd80 \uc124\uc815
Querys.jumyong.ocucupancy.setTax_Yn = \
UPDATE ADMIN_BASE SET TAX_YN = 0 WHERE ADMIN_NO = ?

//\ubb34\ub2e8\uc810\uc6a9 \ucd1d\uc561 
Querys.jumyong.ocucupancy.getTotalSum = \
SELECT MAX(SUM) SUM FROM( \
SELECT SUM FROM CAL_SUM_INFO WHERE ADMIN_NO = ? AND SEQ = ? \
UNION ALL \
SELECT 0 AS SUM FROM DUAL)

//ADMIN_BASE UPDATE 
Querys.jumyong.ocucupancy.admin_baseUp_dateUpdate = \
UPDATE ADMIN_BASE SET UP_DATE = ? WHERE ADMIN_NO = ?


//\ud604\uc7a5\uc870\uc0ac//////////////////////////////////////////////////////////////////////////////////////////
//\ud604\uc7a5\uc870\uc0ac \uc785\ub825
Querys.jumyong.inspectInsert = \
INSERT INTO INSPECT_INFO (ADMIN_NO,SEQ,RESULT,INSPECTOR,INSPECT_DATE,INSPECT_OPINION,MANAGER_OPINION,APPROVAL_CONDITION) \
VALUES (?,?,?,?,?,?,?,?)
//\ud604\uc7a5\uc870\uc0ac \ub9ac\uc2a4\ud2b8
Querys.jumyong.inspectList = \
SELECT R_ID,ADMIN_NO,RESULT,INSPECT_DATE, INSPECTOR, INSPECT_OPINION, MANAGER_OPINION, APPROVAL_CONDITION,NAME,SEQ  FROM  \
(  \
    SELECT ROWNUM AS R_ID, ADMIN_NO,RESULT,INSPECT_DATE, INSPECTOR, INSPECT_OPINION, MANAGER_OPINION, APPROVAL_CONDITION,NAME,SEQ   FROM  \
    (  \
        SELECT ADMIN_NO,RESULT,INSPECT_DATE, INSPECTOR, INSPECT_OPINION, MANAGER_OPINION, APPROVAL_CONDITION,R.NAME,I.SEQ \
        FROM INSPECT_INFO I JOIN REF_COMMONCODE R ON I.RESULT = R.CODE AND R.TYPE='examine_resultFlag' WHERE ADMIN_NO = ? AND SEQ = ?\
        ORDER BY INSPECT_DATE DESC \
    ) \
) WHERE R_ID > (?-1)*? \
AND ROWNUM<=? \
ORDER BY INSPECT_DATE DESC

//\ud604\uc7a5\uc870\uc0ac \ub9ac\uc2a4\ud2b8 \uce74\uc6b4\ud2b8
Querys.jumyong.inspectListCount = \
SELECT COUNT(ADMIN_NO) FROM INSPECT_INFO WHERE ADMIN_NO = ? \

//\ud604\uc7a5\uc870\uc0ac \uc0c1\uc138\uc815\ubcf4
Querys.jumyong.inspectInfo = \
SELECT ADMIN_NO,RESULT,INSPECT_DATE, INSPECTOR, INSPECT_OPINION, MANAGER_OPINION, APPROVAL_CONDITION,SEQ FROM INSPECT_INFO WHERE ADMIN_NO = ? AND SEQ = ?

//\ud604\uc7a5\uc870\uc0ac \uc218\uc815    
Querys.jumyong.inspectUpdate = \
UPDATE INSPECT_INFO \
SET \
RESULT=?, \
INSPECTOR=?, \
INSPECT_DATE=?, \
INSPECT_OPINION=?, \
MANAGER_OPINION=?, \
APPROVAL_CONDITION=? \
WHERE ADMIN_NO = ? \
AND SEQ = ?
//\uac80\ud1a0\ud611\uc758//////////////////////////////////////////////////////////////////////////////////////////
//\uac80\ud1a0\ud611\uc758 \ub9ac\uc2a4\ud2b8    
Querys.jumyong.confList = \
SELECT R_ID,ADMIN_NO,ORGANIZATION,CONF_DATE,MANAGE_DEPT,MANAGER,TEL,HP,CONF_COMMENT,SEQ  FROM  \
(  \
    SELECT ROWNUM AS R_ID, ADMIN_NO,ORGANIZATION,CONF_DATE,MANAGE_DEPT,MANAGER,TEL,HP,CONF_COMMENT,SEQ   FROM  \
    (  \
       SELECT ADMIN_NO,ORGANIZATION,CONF_DATE,MANAGE_DEPT,MANAGER,TEL,HP,CONF_COMMENT,SEQ \
       FROM CONF WHERE ADMIN_NO = ? AND SEQ = ? ORDER BY CONF_DATE DESC \
    ) \
) WHERE R_ID > (?-1)*? \
AND ROWNUM<=? \
ORDER BY CONF_DATE DESC

//\uac80\ud1a0\ud611\uc758 \ub9ac\uc2a4\ud2b8 \uce74\uc6b4\ud2b8
Querys.jumyong.confListCount = \
SELECT COUNT(ADMIN_NO) FROM CONF WHERE ADMIN_NO = ? \

//\uac80\ud1a0\ud611\uc758 \uc0c1\uc138\uc815\ubcf4
Querys.jumyong.confInfo = \
SELECT ADMIN_NO,ORGANIZATION,CONF_DATE,MANAGE_DEPT,MANAGER,TEL,HP,CONF_COMMENT,SEQ FROM CONF WHERE ADMIN_NO = ? AND SEQ = ?

//\uac80\ud1a0\ud611\uc758 \uc785\ub825    
Querys.jumyong.confInsert = \
INSERT INTO CONF ( ADMIN_NO,SEQ,ORGANIZATION,CONF_DATE,MANAGE_DEPT,MANAGER,TEL,HP,CONF_COMMENT) \
VALUES (?,?,?,?,?,?,?,?,?)

//\uac80\ud1a0\ud611\uc758 \uc218\uc815 
Querys.jumyong.confUpdate = \
UPDATE CONF \
SET \
ORGANIZATION=?, \
MANAGE_DEPT=?, \
MANAGER=?, \
TEL=?, \
HP=?, \
CONF_COMMENT=? ,\
CONF_DATE = ? \
WHERE ADMIN_NO = ? \
AND SEQ = ?

//\uc810\uc6a9\uc9c0 \uc704\uce58 //////////////////////////////////////////////////////////////////////////////////////////
//\uc810\uc6a9\uc9c0 \uc704\uce58 \ub9ac\uc2a4\ud2b8
Querys.jumyong.locationList = \
SELECT R_ID,SEQ, LOCATE_X,LOCATE_Y,WIDTH,HEIGHT,AREA,EXPLAIN \
FROM (  SELECT ROWNUM AS R_ID,SEQ, LOCATE_X,LOCATE_Y,WIDTH,HEIGHT,AREA,EXPLAIN \
FROM (  SELECT SEQ, LOCATE_X,LOCATE_Y,WIDTH,HEIGHT,AREA,EXPLAIN FROM PLACEDETAIL_INFO WHERE ADMIN_NO = ? ORDER BY SEQ DESC)) \
WHERE R_ID > ( ?-1)* ? AND ROWNUM <= ? ORDER BY SEQ DESC

//\uc810\uc6a9\uc9c0 \uc704\uce58 \ub9ac\uc2a4\ud2b8\uce74\uc6b4\ud2b8
Querys.jumyong.locationListCount = \
SELECT COUNT(SEQ) FROM PLACEDETAIL_INFO WHERE ADMIN_NO = ?

//\uc810\uc6a9\uc9c0 \uc704\uce58 \uc785\ub825
Querys.jumyong.locationInsert = \
INSERT INTO PLACEDETAIL_INFO (ADMIN_NO,SEQ,LOCATE_X,LOCATE_Y,WIDTH,HEIGHT,AREA,EXPLAIN) VALUES \
(?,LOCATION_SEQ.NEXTVAL,?,?,?,?,?,?)

//\uc810\uc6a9\uc9c0 \uc704\uce58 \uc218\uc815
Querys.jumyong.locationUpdate = \
UPDATE PLACEDETAIL_INFO SET LOCATE_X=?,LOCATE_Y=?,WIDTH=?,HEIGHT=?,AREA=?,EXPLAIN=? \
WHERE SEQ = ?

//\uc810\uc6a9\uc9c0 \uc704\uce58 \uc0ad\uc81c
Querys.jumyong.locationDelete = \
DELETE PLACEDETAIL_INFO WHERE SEQ = ?

Querys.jumyong.examinList = \
select * from EXAMINE_INFO WHERE ROWNUM < 5 AND ADMIN_NO = ?

//\uc810\uc6a9\uc9c0 \ud30c\uc77c //////////////////////////////////////////////////////////////////////////////////////////
//\uc810\uc6a9\uc9c0 \ud30c\uc77c \ub9ac\uc2a4\ud2b8
Querys.jumyong.fileList = \
SELECT R_ID,SEQ,DATA_TYPE,DATA_EXPLAIN,ATTACH_FILE,ATTACH_SAVED_FILE,ATTACH_SIZE,DATA_TYPE_NAME ,REGDATE \
FROM ( \
    SELECT ROWNUM AS R_ID,SEQ,DATA_TYPE,DATA_EXPLAIN,ATTACH_FILE,ATTACH_SAVED_FILE,ATTACH_SIZE,DATA_TYPE_NAME ,REGDATE \
    FROM ( \
        SELECT P.SEQ,P.DATA_TYPE,P.DATA_EXPLAIN,P.ATTACH_FILE,P.ATTACH_SAVED_FILE,P.ATTACH_SIZE,R.NAME AS DATA_TYPE_NAME,P.REGDATE \
        FROM PLACEDETAIL_ATTACH P,REF_COMMONCODE R \
        WHERE P.DATA_TYPE = R.CODE \
        AND R.TYPE='attatched_type' \
        AND P.ADMIN_NO = ? \
        ORDER BY P.SEQ DESC \
        ) \
    ) \
WHERE R_ID > ( ?-1)* ? AND ROWNUM <= ? ORDER BY SEQ DESC \

//\uc810\uc6a9\uc9c0 \ud30c\uc77c \ub9ac\uc2a4\ud2b8\uce74\uc6b4\ud2b8
Querys.jumyong.fileListCount = \
SELECT COUNT(SEQ) FROM PLACEDETAIL_ATTACH WHERE ADMIN_NO = ?

//\uc810\uc6a9\uc9c0 \ud30c\uc77c \uc785\ub825
Querys.jumyong.fileInsert = \
INSERT INTO PLACEDETAIL_ATTACH (ADMIN_NO,SEQ,DATA_TYPE,DATA_EXPLAIN,ATTACH_FILE,ATTACH_SIZE,REGDATE,ATTACH_SAVED_FILE) VALUES \
(?,LOCATION_SEQ.NEXTVAL,?,?,?,?,?,?)

//\uc810\uc6a9\uc9c0 \ud30c\uc77c \uc218\uc815
Querys.jumyong.fileUpdate = \
UPDATE PLACEDETAIL_ATTACH SET DATA_TYPE=?,DATA_EXPLAIN=?,ATTACH_FILE=?,ATTACH_SIZE=? \
WHERE SEQ = ?

//\uc810\uc6a9\uc9c0 \ud30c\uc77c \uc0ad\uc81c
Querys.jumyong.fileDelete = \
DELETE PLACEDETAIL_ATTACH WHERE SEQ = ?

Querys.jumyong.examinList = \
select * from EXAMINE_INFO WHERE ROWNUM < 5 AND ADMIN_NO = ?

///\uae30\ud0c0//
//\uc810\uc6a9\ud5c8\uac00\uc99d\uac00\ub2a5\ud69f\uc218
Querys.jumyong.getLicenceYnCount = \
SELECT SUM(C1) FROM \
( \
SELECT COUNT(SEQ) AS C1 FROM CONF WHERE ADMIN_NO =? AND SUBSTR(CONF_DATE,0,4) = ? \
UNION \
SELECT COUNT(SEQ) AS C1 FROM INSPECT_INFO WHERE ADMIN_NO =? AND SUBSTR(INSPECT_DATE,0,4) = ? \
)

//\uc0b0\ucd9c\ub0b4\uc5ed\uc11c\uac00\ub2a5\ud69f\uc218
Querys.jumyong.getProductYnCount = \
SELECT COUNT(SEQ) FROM CALCULATION_INFO WHERE ADMIN_NO = ?

/////////////////////////////\ud574\uc9c0 \ub4f1\ub85d
//\ud574\uc9c0 \uc815\ubcf4
Querys.jumyong.disUseInfo = \
SELECT DISUSE_DATE, DISUSE_REASON, DISUSE_MANAGER,SECTION FROM PLACE WHERE ADMIN_NO = ?

//\ud574\uc9c0 \uc5c5\ub370\uc774\ud2b8(\uc785\ub825,\uc218\uc815)
Querys.jumyong.disUseUpdate = \
UPDATE PLACE SET SECTION = ? , DISUSE_DATE = ?,DISUSE_REASON= ?,DISUSE_MANAGER= ? ,OLD_SECTION = nvl(old_section,?) WHERE ADMIN_NO = ?

Querys.jumyong.disUseDelete = \
update place set section=nvl(old_section,'1'),disuse_date='',disuse_manager='',disuse_reason='' where admin_no like ?

//CALCULATION_INFO \uc2dc\ud000\uc2a4 \uc99d\uac00\uac12
Querys.jumyong.GetCalculationSequence = \
SELECT CALCULATION_SEQ.nextval FROM DUAL

//\uac10\uc18c \uc120\ud0dd \uc0b0\ucd9c \ub9ac\uc2a4\ud2b8
Querys.jumyong.productSubList = \
SELECT A.FIRST_SEQ,A.AREA,A.CAL_YEAR, C.SEQ,C.SUM_ADJUST,DECODE(C.YEAR,NULL,'-',C.YEAR)AS YEAR,R.NAME \
,DECODE(TAX_SEQ,NULL,'N','Y') AS TAX_YNNAME \
FROM \
( \
  SELECT C.ADMIN_NO,C.FIRST_SEQ, SEQ,YEAR AS CAL_YEAR,AREA FROM CALCULATION_INFO C JOIN  \
      (  \
	     SELECT FIRST_SEQ,SUM(AREA_AFTER) AS AREA  \
	     FROM CALCULATION_INFO C  \
	     WHERE ADMIN_NO =  ? AND USE_SECTION = '2'  \
	     GROUP BY FIRST_SEQ  \
	   ) C2  ON C.SEQ = C2.FIRST_SEQ  \
) A \
LEFT JOIN CALCULATION_INFO C ON A.SEQ = C.FIRST_SEQ AND C. YEAR = ? and c.AREA_AFTER > 0  \
LEFT JOIN CAL_SUM_INFO CS ON C.CAL_SUM_SEQ = CS.SEQ \
LEFT JOIN REF_COMMONCODE R ON R.CODE = C. USE_SECTION AND R.TYPE = 'use_section' \
ORDER BY A.CAL_YEAR,A.FIRST_SEQ

//CAL_SUM_INFO \uc2dc\ud000\uc2a4 \uc99d\uac00\uac12
Querys.jumyong.GetCAL_SUM_SEQ = \
SELECT CAL_SUM_SEQ.NEXTVAL FROM DUAL


//CAL_SUM_INFO SEQ \uc815\ubcf4
Querys.jumyong.cal_sum_infoInfo = \
SELECT ADMIN_NO,SEQ,YEAR,AREA,SUM_ADJUST,VAT,REDUCTION_RATE,SUM,USE_SECTION,REDUCTION_REASON \
FROM CAL_SUM_INFO WHERE SEQ = ?

//first_seq, \uc5f0\ub3c4 \ubcc4 calculation_info
Querys.jumyong.getCalSeqbyFirstSeq = \
SELECT SEQ FROM CALCULATION_INFO WHERE YEAR = ? AND FIRST_SEQ = ? AND SUM_ADJUST > 0 AND ROWNUM = 1

//FORM_ADJUST CAL_SUM_SEQ\ub85c \uac00\uc838\uc624\uae30
Querys.jumyong.form_adjustListbyCalSumInfo = \
SELECT FORM_ADJUST FROM CALCULATION_INFO WHERE CAL_SUM_SEQ = ?


//\uc0b0\ucd9c_\ubd80\uacfc \ud14c\uc774\ube14 SEQ \uc5bb\uae30
Querys.jumyong.jumyong.get_cal_sum_seq = \
SELECT MAX(CAL_SUM_SEQ) \
FROM \
(   SELECT CAL_SUM_SEQ FROM CALCULATION_INFO WHERE admin_no = ? \
  UNION   SELECT 0 AS CAL_SUM_SEQ FROM DUAL ) 

//\ubb34\ub2e8 \ud574\ub2f9 \uc5f0\ub3c4 \uc790\ub8cc \uc788\ub294\uc9c0.
Querys.jumyong.jumyong.get_calculationCount_mudan = \
SELECT COUNT(*) FROM CALCULATION_INFO WHERE ADMIN_NO = ? AND YEAR = ?

//\uacf5\uc2dc\uc9c0\uac00 \uad6c\ud558\uae30.
Querys.jumyong.jumyong.get_Price_old = \
SELECT SI_NM ,GU_NM, BJ_NM,JIGA,JIGA_PY,JIGA_4PY,JIGA_3PY,JIGA_2PY \
FROM CP_BD_600 CP \
JOIN PLACE P \
ON P.SIGUNGU = SUBSTR(CP.ADDRESS,3,3) \
AND SUBSTR(P.BJ_CD,0,3) = SUBSTR(CP.ADDRESS,6,3) \
AND SUBSTR(P.SPC_CD - 1,0,1) = SUBSTR(CP.ADDRESS,11,1) \
AND TO_NUMBER(p.bonbun) = TO_NUMBER(SUBSTR(CP.ADDRESS,12,4)) \
AND TO_NUMBER(DECODE(P.BUBUN,NULL,0,P.BUBUN)) = TO_NUMBER(SUBSTR(CP.ADDRESS,16,4)) \
JOIN REF_DONGCODE RD ON RD.BJ_CD = P.BJ_CD  \
AND P.SIGUNGU = RD.GU_CD AND P.BJ_CD = RD.BJ_CD \
WHERE P.ADMIN_NO =  ? \
GROUP BY SI_NM ,GU_NM, BJ_NM,JIGA,JIGA_PY,JIGA_4PY,JIGA_3PY,JIGA_2PY

//\uacf5\uc2dc\uc9c0\uac00 \uad6c\ud558\uae30.
//2009.07.15 Juno Choi
Querys.jumyong.jumyong.get_Price = \
select distinct RD.SI_NM ,RD.GU_NM, RD.BJ_NM, F.BONBUN, F.BUBUN, CB.JIGA,CB.JIGA_PY,CB.JIGA_4PY,CB.JIGA_3PY,CB.JIGA_2PY,CB.DB_CRE_MON \
from ( \
select \
11||\
sigungu||\
bj_cd||\
spc_cd||\
LPAD(decode(TYPE,'1',BONBUN,'2',decode(substr(purpose_cd,0,2),'02',BONBUN,ROAD_BON),'3',decode(substr(purpose_cd,0,2),'02',BONBUN,ROAD_BON)),4,'0')||\
LPAD(DECODE(decode(TYPE,'1',BUBUN,'2',decode(substr(purpose_cd,0,2),'02',BUBUN,ROAD_BU),'3',decode(substr(purpose_cd,0,2),'02',BUBUN,ROAD_BU)),NULL,'0',decode(TYPE,'1',BUBUN,'2',decode(substr(purpose_cd,0,2),'02',BUBUN,ROAD_BU),'3',decode(substr(purpose_cd,0,2),'02',BUBUN,ROAD_BU))),4,'0') as address \
, decode(TYPE,'1',BONBUN,'2',decode(substr(purpose_cd,0,2),'02',BONBUN,ROAD_BON),'3',decode(substr(purpose_cd,0,2),'02',BONBUN,ROAD_BON)) as BONBUN, \
decode(TYPE,'1',BUBUN,'2',decode(substr(purpose_cd,0,2),'02',BUBUN,ROAD_BU),'3',decode(substr(purpose_cd,0,2),'02',BUBUN,ROAD_BU)) as BUBUN, sigungu, bj_cd, hj_cd \
from place \
where admin_no = ?) F \
,REF_DONGCODE RD, CP_BD_600 CB \
where F.SIGUNGU = RD.GU_CD AND F.BJ_CD = RD.BJ_CD AND F.ADDRESS = CB.ADDRESS \

//\ud604\uc7a5\uc870\uc0ac \uc0ad\uc81c
Querys.jumyong.jumyong.delete_inspect = \
DELETE FROM INSPECT_INFO WHERE SEQ = ?

//\uac80\ud1a0 \ud611\uc758 \uc0ad\uc81c
Querys.jumyong.jumyong.delete_conf = \
DELETE FROM CONF WHERE SEQ = ?

//\uc77c\ubc18 \uc810\uc6a9 \uc77c\uc218 \uac00\uc838\uc624\uae30
Querys.jumyong.jumyong.getTotalPeriod = \
SELECT TOTAL_PERIOD FROM PLACE WHERE ADMIN_NO = ?

//\uc77c\ubc18 \uc810\uc6a9 \uc77c\uc218 \uac00\uc838\uc624\uae30
Querys.jumyong.jumyong.getMudanArea = \
SELECT AREA_AFTER  FROM CALCULATION_INFO WHERE ADMIN_NO = ? AND ROWNUM = 1

Querys.jumyong.jumyong.historyList = \
SELECT R_ID , SEQ, ADMIN_NO , GUBUN ,WRITEDATE ,GUNGE ,SAYU ,WORK_ID ,GU_CODE \
FROM( \
 \
	SELECT ROWNUM AS R_ID, SEQ, ADMIN_NO , GUBUN ,WRITEDATE ,GUNGE ,SAYU ,WORK_ID ,GU_CODE \
	FROM ( \
		SELECT SEQ, ADMIN_NO , GUBUN ,WRITEDATE ,GUNGE ,SAYU ,WORK_ID ,GU_CODE \
		FROM HISTORY_INFO WHERE ADMIN_NO = ? \
		ORDER BY SEQ DESC \
	) \
)WHERE R_ID BETWEEN ? AND ?
	
Querys.jumyong.jumyong.historyListCount = \
SELECT COUNT(ADMIN_NO) FROM HISTORY_INFO WHERE ADMIN_NO = ?

Querys.jumyong.jumyong.historyInsert= \
INSERT INTO HISTORY_INFO \
	( ADMIN_NO, SEQ , GUBUN ,WRITEDATE ,GUNGE ,SAYU ,WORK_ID ,GU_CODE ,WORK_NM ) \
VALUES (? ,?, ?, ?, ?,   ?, ?, ?, ?)

Querys.jumyong.jumyong.historyView = \
SELECT SEQ, ADMIN_NO , GUBUN ,WRITEDATE ,GUNGE ,SAYU ,WORK_ID ,GU_CODE , UP_DATE ,WORK_NM \
FROM HISTORY_INFO WHERE ADMIN_NO = ? AND SEQ = ? \

Querys.jumyong.jumyong.historyUpdate = \
UPDATE HISTORY_INFO SET \
	GUBUN = ? \
	, GUNGE = ? \
	, SAYU = ? \
	, WORK_NM = ? \
	, GU_CODE = ? \
	, UP_DATE = ? \
	, WRITEDATE = ? \
WHERE ADMIN_NO = ? \
AND SEQ = ?

Querys.jumyong.jumyong.getHistoryMaxSeq = \
SELECT MAX(SEQ)+1 MAX_SEQ FROM( \
	SELECT SEQ FROM HISTORY_INFO \
	WHERE ADMIN_NO = ? \
	UNION ALL SELECT 0 AS SEQ FROM DUAL )
	
Querys.jumyong.jumyong.deleteHistoryInfo = \
delete from history_info where admin_no = ? and seq = ? \
	
Querys.jumyong.jumyong.getSumBysumseq = \
SELECT SUM(SUM_ADJUST) \
FROM CALCULATION_INFO \
WHERE ADMIN_NO=? \
AND CAL_SUM_SEQ=? \
 
 Querys.jumyong.jumyong.cal_sum_addUpdate = \
 UPDATE CAL_SUM_INFO SET AREA = ? \
, SUM_ADJUST = ? \
, VAT = ? \
, SUM = ?  \
, FORM_ADJUST = ? \
, REDUCTION_RATE = ? \
, REDUCTION_REASON = ? \
, PERCENT_RATE = ? \
, PERCENT_REASON = ? \
, FROMDATE = (SELECT MIN(FROMDATE) FROM CALCULATION_INFO  WHERE CAL_SUM_SEQ=? AND admin_no=?) \
, TODATE = (SELECT MAX(TODATE) FROM CALCULATION_INFO  WHERE CAL_SUM_SEQ=? AND admin_no=?) \
, YEAR = ? \
WHERE SEQ = ? \
AND admin_no= ?
 
 
Querys.jumyong.ocucupancy.getCheck_yn = \
SELECT RP.CHECK_YN \
FROM PLACE P, REF_PURPOSECODE RP \
WHERE P.PURPOSE_CD = RP.CODE \
AND P.TYPE = RP.SECTION \
AND P.ADMIN_NO = ? \

Querys.jumyong.ocucupancy.getWITH_SUM_PRICE = \
SELECT WITH_SUM_PRICE \
FROM PLACE \
WHERE ADMIN_NO = ? \


Querys.jumyong.calSelectbyYear_Admin = \
 SELECT C.ADMIN_NO,C.YEAR,C.PRICE,C.AREA_AFTER,C.RATE,C.FROMDATE,C.TODATE,C.SUM_LASTYEAR,C.SUM_YEAR \
, C.FORM,C.FORM_ADJUST,C.SUM_ADJUST,C.LICENSE_TAX,C.SEQ,C.PERIOD,C.ADJUSTMENT,C.SURCHARGE_RATE,C.FIRST_SEQ,C.PREV_SEQ, C.CAL_SUM_SEQ \
, CSI.SUM,CSI.REDUCTION_RATE,CSI.REDUCTION_REASON,CSI.PERCENT_RATE,CSI.PERCENT_REASON, CSI.TAX_SEQ, CSI.SUM AS REDUCTION_SUM, CSI.FORM_ADJUST AS REDUCTION_FORM \
, RP.CHECK_YN  , RP.MOMEY \
, (case p.sigungu || p.purpose_cd when '170012' then 0.025 else RP.YOYUL end) as yoyul \
, P.WITH_SUM_PRICE \
, (SELECT TAX_YN FROM TAXATION_INFO T WHERE CSI.ADMIN_NO = T.ADMIN_NO AND CSI.SEQ = T.SEQ(+) ) TAX_YN \
FROM CALCULATION_INFO C , CAL_SUM_INFO CSI , PLACE P, REF_PURPOSECODE RP \
WHERE C.CAL_SUM_SEQ = CSI.SEQ \
AND C.ADMIN_NO = CSI.ADMIN_NO \
AND C.SEQ = ? \
AND C.ADMIN_NO = ? \
AND P.ADMIN_NO = C.ADMIN_NO \
AND P.PURPOSE_CD = RP.CODE \
AND P.TYPE = RP.SECTION \
AND ROWNUM = 1 \

Querys.jumyong.defineTaxYN = \
SELECT CASE  \
       WHEN t.TAX_YN = '1' AND t.TAX_NO IS NOT NULL  \
       THEN 'TRUE' ELSE 'FALSE'  \
       END AS RESULT \
FROM (SELECT cs.admin_no, cs.seq  \
    FROM calculation_info ci, cal_sum_info cs  \
    WHERE ci.admin_no = ?  \
    AND ci.seq = ?  \
    AND ci.cal_sum_seq = cs.seq  \
    AND ci.admin_no = cs.admin_no) aa, TAXATION_INFO t \
WHERE aa.admin_no = t.admin_no \
AND aa.seq = t.seq \

Querys.jumyong.deleteCalSumInfo = \
DELETE FROM cal_sum_info \
WHERE admin_no = ? \
AND seq = ?  \
AND year = ? \

Querys.jumyong.deleteTaxationInfo = \
DELETE FROM taxation_info \
WHERE admin_no = ? \
AND seq = ?  \
AND year = ? \

Querys.jumyong.deleteCalculationInfo = \
DELETE \
FROM calculation_info  \
WHERE admin_no = ? \
AND seq = ? \
AND year = ? \

Querys.jumyong.jumyong.get_cal_sum_seq2 = \
SELECT CAL_SUM_SEQ \
FROM CALCULATION_INFO WHERE admin_no = ? \
AND seq = ? \
AND year = ? \

Querys.jumyong.jumyong.getFormAdjust = \
SELECT FORM_ADJUST \
FROM CALCULATION_INFO \
WHERE ADMIN_NO = ? \
AND CAL_SUM_SEQ = ? \

Querys.jumyong.jumyong.get_Count_Calculation_info = \
SELECT count(*) \
FROM calculation_info \
WHERE admin_no = ? \
AND cal_sum_seq = ? \

Querys.jumyong.jumyong.get_purpose_cd = \
SELECT PURPOSE_CD FROM PLACE WHERE ADMIN_NO = ? \

Querys.jumyong.jumyong.get_use_type = \
SELECT TYPE FROM PLACE WHERE ADMIN_NO = ? \

Querys.jumyong.jumyong.checkAdminBase = \
UPDATE ADMIN_BASE \
SET CHECK_YN ='0' \
WHERE \
    (SELECT COUNT(*) \
    FROM CALCULATION_INFO \
    WHERE ADMIN_NO = ? ) = 0 \
AND ADMIN_NO = ? \

Querys.jumyong.jumyong.get_reduction = \
SELECT REDUCTION_RATE, REDUCTION_REASON \
FROM PLACE \
WHERE ADMIN_NO = ? \


Querys.jumyong.jumyong.getWithAddrInfo = \
SELECT SIDO,SIGUNGU,BJ_CD,HJ_CD,BONBUN,BUBUN \
FROM PLACE \
WHERE ADMIN_NO = ? \

Querys.jumyong.jumyong.get_max_year = \
SELECT MAX(YEAR) AS YEAR \
FROM CALCULATION_INFO \
WHERE ADMIN_NO = ? \
AND CAL_SUM_SEQ = ? \

Querys.jumyong.jumyong.getInitCalData = \
SELECT P.TYPE,p.SECTION,p.AREA_SIZE,p.PURPOSE_CD,p.REDUCTION_RATE,p.REDUCTION_REASON,p.PERCENT_RATE,p.PERCENT_REASON, RP.CHECK_YN \
, (case p.sigungu || p.purpose_cd when '170012' then 0.025 \
 when '500421' then 0.02 \
 else DECODE(RP.CHECK_YN,1,RP.MOMEY,RP.YOYUL) end) AS YOYUL \
FROM( \
    SELECT \
    TYPE,SECTION,AREA_SIZE,PURPOSE_CD,REDUCTION_RATE,REDUCTION_REASON,PERCENT_RATE,PERCENT_REASON, sigungu \
    FROM PLACE \
    WHERE ADMIN_NO = ? \
) P,REF_PURPOSECODE RP \
WHERE P.TYPE = RP.SECTION \
AND P.PURPOSE_CD = RP.CODE 
#SELECT P.*,RP.CHECK_YN,DECODE(RP.CHECK_YN,1,RP.MOMEY,RP.YOYUL) AS YOYUL \

Querys.jumyong.jumyong.getInitCalData_20161101 = \
SELECT P.TYPE,p.SECTION,p.AREA_SIZE,p.PURPOSE_CD,p.REDUCTION_RATE,p.REDUCTION_REASON,p.PERCENT_RATE,p.PERCENT_REASON, RP.CHECK_YN \
, (case p.sigungu || p.purpose_cd when '170012' then 0.025 else DECODE(RP.CHECK_YN,1,RP.MOMEY,RP.YOYUL) end) AS YOYUL \
FROM( \
    SELECT \
    TYPE,SECTION,AREA_SIZE,PURPOSE_CD,REDUCTION_RATE,REDUCTION_REASON,PERCENT_RATE,PERCENT_REASON, sigungu \
    FROM PLACE \
    WHERE ADMIN_NO = ? \
) P,REF_PURPOSECODE RP \
WHERE P.TYPE = RP.SECTION \
AND P.PURPOSE_CD = RP.CODE 
#SELECT P.*,RP.CHECK_YN,DECODE(RP.CHECK_YN,1,RP.MOMEY,RP.YOYUL) AS YOYUL \

Querys.jumyong.jumyong.getPriceList = \
SELECT T.SEQ,T.PNU,T.ADDR, \
(CASE WHEN DB_CRE_MON IS NULL THEN '0' \
WHEN TO_NUMBER(SUBSTR(T.DB_CRE_MON,1,4) - TO_NUMBER(T.YEAR)) = 1 THEN TO_CHAR(T.JIGA_PY) \
WHEN TO_NUMBER(SUBSTR(T.DB_CRE_MON,1,4) - TO_NUMBER(T.YEAR)) = 2 THEN TO_CHAR(T.JIGA_2PY) \
WHEN TO_NUMBER(SUBSTR(T.DB_CRE_MON,1,4) - TO_NUMBER(T.YEAR)) = 3 THEN TO_CHAR(T.JIGA_3PY) \
WHEN TO_NUMBER(SUBSTR(T.DB_CRE_MON,1,4) - TO_NUMBER(T.YEAR)) = 4 THEN TO_CHAR(T.JIGA_4PY) \
WHEN TO_NUMBER(SUBSTR(T.DB_CRE_MON,1,4) - TO_NUMBER(T.YEAR)) > 4 THEN TO_CHAR('-1') \
ELSE TO_CHAR(T.JIGA) \
END) AS JIGA \
FROM \
( \
    SELECT ? AS YEAR,P.SEQ,P.ADMIN_NO,P.PNU,P.ADDR,C.JIGA,C.JIGA_PY,C.JIGA_2PY,C.JIGA_3PY,C.JIGA_4PY,C.DB_CRE_MON \
    FROM PLACE_WITH_ADDR P,CP_BD_600 C \
    WHERE P.ADMIN_NO = ? \
    AND P.PNU = C.ADDRESS(+) \
    ORDER BY TO_NUMBER(P.SEQ) \
) T \

Querys.jumyong.jumyong.getPriceList_20130307 = \
SELECT T.SEQ,T.PNU,T.ADDR, \
(CASE WHEN DB_CRE_MON IS NULL THEN '0' \
WHEN TO_NUMBER(SUBSTR(T.DB_CRE_MON,1,4) - TO_NUMBER(T.YEAR)) = 1 THEN TO_CHAR(T.JIGA_PY) \
WHEN TO_NUMBER(SUBSTR(T.DB_CRE_MON,1,4) - TO_NUMBER(T.YEAR)) = 2 THEN TO_CHAR(T.JIGA_2PY) \
WHEN TO_NUMBER(SUBSTR(T.DB_CRE_MON,1,4) - TO_NUMBER(T.YEAR)) = 3 THEN TO_CHAR(T.JIGA_3PY) \
WHEN TO_NUMBER(SUBSTR(T.DB_CRE_MON,1,4) - TO_NUMBER(T.YEAR)) = 4 THEN TO_CHAR(T.JIGA_4PY) \
ELSE TO_CHAR(T.JIGA) \
END) AS JIGA \
FROM \
( \
    SELECT ? AS YEAR,P.SEQ,P.ADMIN_NO,P.PNU,P.ADDR,C.JIGA,C.JIGA_PY,C.JIGA_2PY,C.JIGA_3PY,C.JIGA_4PY,C.DB_CRE_MON \
    FROM PLACE_WITH_ADDR P,CP_BD_600 C \
    WHERE P.ADMIN_NO = ? \
    AND P.PNU = C.ADDRESS(+) \
    ORDER BY TO_NUMBER(P.SEQ) \
) T \
